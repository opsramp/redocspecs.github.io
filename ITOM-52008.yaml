openapi: 3.0.0
info:
  title: Integrations
  version: 2.0.0
  description: Integrations API Documentation
  contact:
    name: OpsRamp Support
    email: support@opsramp.com
    url: 'https://www.opsramp.com/about-opsramp/contact-us/'
tags:
  - name: integrations
    description: Example description.
    externalDocs:
      url: 'https://docs.opsramp.com/api/agents-gateways/'
servers:
  - url: 'https://{sub-domain}.api.opsramp.com'
    description: OpsRamp OAuth 2.0 access token API server
    variables:
      subdomain:
        default: demo
        description: Custom sub-domain assigned to the client
paths:
  '/api/v2/tenants/{tenantId}/integrations/activity':
    summary: Get integration activity
    description: Gets the installation activity details of an installed integration activity.
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        installedintgId:
                          type: string
                        intgName:
                          type: string
                        resourceId:
                          type: string
                        resourceType:
                          type: string
                        status:
                          type: string
                        statusMessage:
                          type: string
                        reqPayload:
                          type: string
                        resPayload:
                          type: string
                        requestUrl:
                          type: string
                        intgMode:
                          type: string
                        processedTime:
                          type: integer
                  totalResults:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  descendingOrder:
                    type: boolean
                  pageNo:
                    type: integer
              examples:
                example-date-range:
                  value:
                    results:
                      - installedintgId: INTG-bb6dcbe3-6477-42d0-8b33-4b354ad53fe3
                        intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T16:00:00%200530%2BendTime:2017-03-08T17:00:00%200530%2BIntgMode:INBOUND'
                        intgMode: INBOUND
                        processedTime: 1488970355393
                      - installedintgId: INTG-bb6dcbe3-6477-42d0-8b33-4b387ad53fe3
                        intgName: CUSTOM
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T04:00:00%200530%2BendTime:2017-03-08T05:00:00%200530%2BIntgMode:INBOUND'
                        intgMode: INBOUND
                        processedTime: 1488970300924
                      - installedintgId: INTG-bb6dcbe3-6477-42d0-8b33-4b854ed53fe3
                        intgName: CUSTOM
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T04:00:00%200530%2BendTime:2017-03-08T05:00:00%200530%2BIntgMode:INBOUND'
                        intgMode: INBOUND
                        processedTime: 1488970299546
                      - installedintgId: INTG-bb6dcbe3-6477-429o-8b33-4fe451ad54df7
                        intgName: CUSTOM
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T04:00:00%200000%2BendTime:2017-03-08T05:00:00%200000%2BIntgMode:INBOUND'
                        intgMode: INBOUND
                        processedTime: 1488970263464
                      - installedintgId: INTG-bb3efce3-6477-42d0-5c42-5c767ad54hd3
                        intgName: CUSTOM
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T04:00:00%200530%2BendTime:2017-03-08T05:00:00%200530%2BIntgMode:INBOUND'
                        intgMode: INBOUND
                        processedTime: 1488970237096
                      - installedintgId: INTG-bb6dcbe3-6477-42d0-9ec3-6rc76dc59fc5
                        intgName: FRESHSERVICE
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T04:00:00%200530%2BendTime:2017-03-08T05:00:00%200530%2BIntgMode:INBOUND'
                        intgMode: INBOUND
                        processedTime: 1488970235663
                      - installedintgId: INTG-bb3edbe3-6477-42d0-8c56-4c532df25cf5
                        intgName: JIRA
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T04:00:00%200530%2BendTime:2017-03-08T05:00:00%200530'
                        intgMode: INBOUND
                        processedTime: 1488970153650
                      - installedintgId: INTG-bb6dcbe3-6599-42d0-8c33-4b811ae5673r
                        intgName: CUSTOM
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T12:00:00%200530%2BendTime:2017-03-08T12:30:00%200530'
                        intgMode: INBOUND
                        processedTime: 1488969867751
                      - installedintgId: INTG-bg5fcbe3-6477-42d0-4c33-4b45re313r4r
                        intgName: JIRA
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T12:00:00%200530%2BendTime:2017-03-08T12:30:00%200530'
                        intgMode: INBOUND
                        processedTime: 1488969866264
                      - installedintgId: INTG-bb6dbed3-4325-52do-5b33-4dc22bc45ge5
                        intgName: CUSTOM
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/intg/activity/intgActivity?queryString=startTime:2017-03-08T12:00:00%200530%2BendTime:2017-03-08T12:30:00%200530'
                        intgMode: INBOUND
                        processedTime: 1488969822870
                    totalResults: 10
                    pageNo: 1
                    pageSize: 100
                    totalPages: 1
                    nextPage: false
                    descendingOrder: false
                example-pagination:
                  value:
                    results:
                      - installedintgId: INTG-e26429c2-7f1a-4cd6-a714-851365e2bdae
                        intgName: ''
                        resourceId: ''
                        resourceType: ALERT
                        status: COMPLETE
                        statusMessage: Processed successfully
                        reqPayload: '{"serviceName":"CPU","device":{"hostName":"Think-pad","resourceUUID":"DEV0000011767","providerUUID":"11767","systemUUID":"11767","macAddress":"2E:8B:EB:32:7A:F9","ipAddress":"192.156.255.251"},"subject":"Test API Alert sensu 2","alertTime":"2014-11-05 11:26:00","currentState":"OK","app":"NEWRELIC","alertType":"Maintenance","component":"C","description":"api calls","monitorName":"test"}'
                        resPayload: ''
                        requestUrl: 'https://192.168.56.121/api/v2/tenants/client_9/alert'
                        intgMode: INBOUND
                        processedTime: 1488961814334
                      - installedintgId: INTG-e26429c2-7f1a-4cd6-a714-851365e2bdae
                        intgName: ''
                        resourceId: ''
                        resourceType: ALERT
                        status: COMPLETE
                        statusMessage: Processed successfully
                        reqPayload: '{"serviceName":"CPU","device":{"hostName":"Think-pad","resourceUUID":"DEV0000011767","providerUUID":"11767","systemUUID":"11767","macAddress":"2E:8B:EB:32:7A:F9","ipAddress":"192.156.255.251"},"subject":"Test API Alert sensu 1","alertTime":"2014-11-05 11:26:00","currentState":"CRITICAL","app":"NEWRELIC","alertType":"Maintenance","component":"C","description":"api calls","monitorName":"test"}'
                        resPayload: ''
                        requestUrl: 'https://192.168.56.121/api/v2/tenants/client_9/alert'
                        intgMode: INBOUND
                        processedTime: 1488961772629
                      - installedintgId: INTG-e26429c2-7f1a-4cd6-a714-851365e2bdae
                        intgName: ''
                        resourceId: ''
                        resourceType: ALERT
                        status: COMPLETE
                        statusMessage: Processed successfully
                        reqPayload: '{"serviceName":"CPU","device":{"hostName":"Think-pad","resourceUUID":"DEV0000011767","providerUUID":"11767","systemUUID":"11767","macAddress":"2E:8B:EB:32:7A:F9","ipAddress":"192.156.255.250"},"subject":"Test API Alert sensu 1","alertTime":"2014-11-05 11:26:00","currentState":"CRITICAL","app":"NEWRELIC","alertType":"Maintenance","component":"C","description":"api calls","monitorName":"test"}'
                        resPayload: ''
                        requestUrl: 'https://192.168.56.121/api/v2/tenants/client_9/alert'
                        intgMode: INBOUND
                        processedTime: 1488961738352
                      - installedintgId: INTG-b2e9808e-7457-469f-b6a1-c76393facfe8
                        intgName: test
                        resourceId: INC0000000347
                        resourceType: INCIDENT
                        status: COMPLETE
                        statusMessage: Incident processed COMPLETE
                        reqPayload: 'test tkt '
                        resPayload: ''
                        requestUrl: ''
                        intgMode: INBOUND
                        processedTime: 1488892849283
                      - installedintgId: INTG-b2e9808e-7457-469f-b6a1-c76393facfe8
                        intgName: test
                        resourceId: INC0000000346
                        resourceType: INCIDENT
                        status: COMPLETE
                        statusMessage: Response Updated
                        reqPayload: test from api 6
                        resPayload: ''
                        requestUrl: ''
                        intgMode: INBOUND
                        processedTime: 1488799767447
                      - installedintgId: INTG-b2e9808e-7457-469f-b6a1-c76393facfe8
                        intgName: test
                        resourceId: INC0000000346
                        resourceType: INCIDENT
                        status: COMPLETE
                        statusMessage: Response Updated
                        reqPayload: test from api 6
                        resPayload: ''
                        requestUrl: ''
                        intgMode: INBOUND
                        processedTime: 1488799765657
                      - installedintgId: INTG-b2e9808e-7457-469f-b6a1-c76393facfe8
                        intgName: test
                        resourceId: INC0000000346
                        resourceType: INCIDENT
                        status: COMPLETE
                        statusMessage: Response Updated
                        reqPayload: test from api 6
                        resPayload: ''
                        requestUrl: ''
                        intgMode: INBOUND
                        processedTime: 1488799763713
                      - installedintgId: INTG-b2e9808e-7457-469f-b6a1-c76393facfe8
                        intgName: test
                        resourceId: INC0000000346
                        resourceType: INCIDENT
                        status: COMPLETE
                        statusMessage: Response Updated
                        reqPayload: test from api 6
                        resPayload: ''
                        requestUrl: ''
                        intgMode: INBOUND
                        processedTime: 1488799761865
                      - installedintgId: INTG-b2e9808e-7457-469f-b6a1-c76393facfe8
                        intgName: test
                        resourceId: INC0000000346
                        resourceType: INCIDENT
                        status: COMPLETE
                        statusMessage: Response Updated
                        reqPayload: test from api 6
                        resPayload: ''
                        requestUrl: ''
                        intgMode: INBOUND
                        processedTime: 1488798121233
                      - installedintgId: INTG-b2e9808e-7457-469f-b6a1-c76393facfe8
                        intgName: test
                        resourceId: INC0000000346
                        resourceType: INCIDENT
                        status: COMPLETE
                        statusMessage: Response Updated
                        reqPayload: test from api 6
                        resPayload: ''
                        requestUrl: ''
                        intgMode: INBOUND
                        processedTime: 1488798117365
                    totalResults: 31
                    pageNo: 1
                    pageSize: 10
                    totalPages: 4
                    nextPage: true
                    nextPageNo: 2
                    descendingOrder: false
                example-3:
                  value:
                    results:
                      - installedintgId: string
                        intgName: string
                        resourceId: string
                        resourceType: string
                        status: string
                        statusMessage: string
                        reqPayload: string
                        resPayload: string
                        requestUrl: string
                        intgMode: string
                        processedTime: 0
                    totalResults: 0
                    pageSize: 0
                    totalPages: 0
                    nextPage: true
                    descendingOrder: true
                    pageNo: 0
      parameters:
        - schema:
            type: integer
            default: 1
          in: query
          name: pageNo
          description: '{pageNo}'
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
          description: '{pageSize}'
        - schema:
            type: boolean
            default: true
          in: query
          name: isDescendingOrder
          description: '{true/false}'
        - schema:
            type: string
            default: id
          in: query
          name: sortName
          description: '{field}'
        - schema:
            type: string
          in: query
          name: queryString
          description: '{queryString}'
        - schema:
            type: string
            enum:
              - OUTBOUND
              - INBOUND
          in: query
          name: intgMode
          description: |
            Integration mode. This specifies the inbound or outbound configuration of integration.
        - schema:
            type: string
          in: query
          name: startTime
          description: |-
            Get the integration activities within a date range.

            - startTime indicates from date.
        - schema:
            type: string
          in: query
          name: endTime
          description: |-
            Get the integration activities within a date range.

            - endTime indicates to date.
        - schema:
            type: string
          in: query
          name: installedintgId
          description: 'Installed integration Id. To get the integration activity of a particular installed integration, provide the installed integration Id in the query parameter string.'
        - schema:
            type: string
            enum:
              - SUCCESS
              - FAILED
          in: query
          name: status
          description: Status of integration
      summary: List all the payload activities
      operationId: Intg_acitivity
      description: Details the payload activities
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/policies/discovery':
    summary: Get and update discovery profiles
    description: |-
      Creates and updates AWS, Azure, and Google discovery profiles and gets a list of discovery profiles.

      > To fetch supported cloud resource types (AWS, Azure, and Google) during discovery, use the `{api-url}/api/v2/tenants/{tenantId}/resourceTypes/{cloudType}` endpoint.
    post:
      description: |-
        Creates discovery profiles for AWS, Azure, and Google.

        - AWS basic discovery profile - Create a basic AWS discovery profile with credentials to administer the management of discovered resources. The returned sample response can be posted again with any modification.
        - AWS discovery profile with delivery schedule - Create an AWS discovery profile with a schedule to define the discovery time of resources.
        - AWS discovery profile with policy - Create an AWS discovery profile with a policy to define specific actions performed on the discovered resources
        - AWS discovery profile with credentials, schedule, and policy - Create an AWS discovery profile with credentials, schedule, and policy to administer the management of resources, schedule discovery of resources, and define specific actions performed on the discovered resources.
        - Azure basic discovery profile - Create a basic Azure discovery profile with credentials to administer the management of discovered resources.
        - Azure discovery profile with discovery schedule - Create an Azure discovery profile with a schedule to define the discovery time of resources.
        - Azure discovery profile with schedule and policy - Create Azure discovery profile with schedule and policy to schedule discovery of resources and define actions performed on the discovered devices.
        - Azure discovery profile with credentials, schedule, and policy - Create an Azure discovery profile with credentials, schedule, and policy to administer the management of resources, schedule discovery of resources, and define specific actions performed on the discovered resources.
        - Google basic discovery profile - Create a basic Google discovery profile with credentials to administer the management of discovered resources.
        - Google discovery profile with credentials, schedule, and policy - Create a Google discovery profile with credentials, schedule, and policy to administer the management of resources, schedule discovery of resources, and define specific actions performed on the discovered resources.

        The certificate attachment must be encoded with base64 and can be provided in `ServiceAccountManagementCertificate`.
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/discoveryProfile'
              examples:
                example-aws-basic:
                  value:
                    - id: 61
                      name: AWS Basic Discovery Profile
                      installedIntegrationId: INTG-5de40426-6edb-4f40-9274-d8827b683e40
                      credentialSet: AWS AWS Integration
                      credential:
                        credentialName: AWS AWS Integration
                        accountId: '************'
                      policy:
                        id: 1622
                        uid: POLICY-c3702a44-caf0-47cf-b774-09fa806bc093
                        name: AWS Basic Discovery Profile
                        matchType: ANY
                        rules:
                          - id: 2062
                            filterType: ANY_CLOUD_RESOURCE
                        actions: []
                        entityType: ALL
                example-aws-schedule:
                  value:
                    - id: 120
                      name: AWS discovery profile with schedule
                      credentialSet: AWS_Integration
                      credential:
                        credentialName: AWS_Integration
                        accountId: '*********'
                      schedule:
                        patternType: HOURLY
                        pattern: '2'
                        startTime: '02:00:00'
                example-aws-policy:
                  value:
                    - id: 103918
                      name: AWS Discovery profile
                      installedIntegrationId: INTG-5de40426-6edb-4f40-9274-d8827b683e40
                      credentialSet: AWS AWS Integration
                      credential:
                        credentialName: AWS AWS Integration
                        accountId: '*********'
                      policy:
                        id: 51288
                        uid: POLICY-c3702a44-caf0-47cf-b774-09fa806bc093
                        name: AWS Discovery profile
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions: []
                        entityType: All
                example-aws-credentials-schedule-policy:
                  value:
                    - name: AWS_profile
                      credential:
                        credentialType: AWS
                        AccountNumber: '************'
                        AccessKey: '*******************'
                        SecurityKey: '************************'
                      policy:
                        name: AWS_profile
                        entityType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                        executionOrder: 0
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-azure-basic:
                  value:
                    - id: 962
                      name: Azure Basic Discovery profile
                      credentialSet: Azure Credentials
                      credential:
                        credentialName: Azure Credentials
                        accountId: 9ee6993f-a036-4118-9eab-c66d9fda1ef3
                example-azure-schedule:
                  value:
                    - id: 963
                      name: Azure discovery profile with schedule
                      credentialSet: Azure Credentials
                      credential:
                        credentialName: Azure Credentials
                        accountId: 9ee6993f-a036-4118-9eab-c66d9fda1ef3
                      schedule:
                        patternType: HOURLY
                        pattern: '2'
                        startTime: '02:00:00'
                example-azure-schedule-policy:
                  value:
                    - id: 510
                      name: Azure
                      credentialSet: Azure_policy
                      credential:
                        credentialName: Azure_policy
                        accountId: 9ee6993f-a036-418-9eab-c66f34fae1gf7
                      policy:
                        id: 736
                        name: Azure
                        resourceType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                        executionOrder: 0
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-azure-credentials-schedule-policy:
                  value:
                    - id: 102183
                      name: Azure_Profile
                      credentialSet: Azure
                      credential:
                        credentialName: Azure
                        accountId: 9ee6993f-a036-4118-9eab-c66d9fda1ef2
                      policy:
                        id: 39733
                        name: Azure
                        resourceType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_DEVICE
                          - filterType: EBS
                          - filterType: WEBSITE
                          - filterType: SQL_SERVER
                          - filterType: SQL_DATABASE
                          - filterType: RESOURCE_GROUP
                          - filterType: REDIS_CACHE
                          - filterType: DOCUMENT_DB
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                          - action: ASSIGN GATEWAY MANAGEMENT PROFILE
                            items:
                              - item: '24422'
                                parameters: {}
                                instances: {}
                          - action: INSTALL OPSRAMP AGENT
                            items:
                              - item: '169743'
                                parameters: {}
                                instances: {}
                          - action: SELECT GATEWAY
                            items:
                              - item: '24422'
                                parameters: {}
                                instances: {}
                        executionOrder: 0
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-google-basic:
                  value:
                    - id: 962
                      name: Google Basic Discovery profile
                      credentialSet: Google GOOGLE_Integration
                      credential:
                        credentialName: Google GOOGLE_Integration
                        accountId: GCE-integration
                example-google-credentials-schedule-policy:
                  value:
                    - id: 28
                      name: Google
                      installedIntegrationId: INTG-8abf482f-1423-18b7-4578-be47080aaa72
                      credentialSet: Google GOOGLEIntegration
                      credential:
                        credentialName: Google GOOGLEIntegration
                        accountId: gce-integration
                      policy:
                        id: 822
                        name: GOOGLE
                        resourceType: ALL
                        matchType: ANY
                        rules:
                          - id: 18821
                            filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                      schedule:
                        patternType: HOURLY
                        pattern: '2'
                        startTime: '02:00:00'
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/discoveryProfile'
            examples:
              example-aws-basic:
                value:
                  - name: AWS Basic Discovery profile
                    credentialSet: AWS AWS Integration
              example-aws-schedule:
                value:
                  - name: AWS discovery profile with schedule
                    credentialSet: AWS_Integration
                    schedule:
                      patternType: HOURLY
                      pattern: '2'
                      startTime: '02:00:00'
              example-aws-policy:
                value:
                  - name: AWS Discovery profile
                    credentialSet: AWS AWS Integration
                    policy:
                      name: AWS Discovery profile
                      entityType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
              example-aws-credentials-schedule-policy:
                value:
                  - name: AWS_profile
                    credential:
                      credentialType: AWS
                      AccountNumber: '************'
                      AccessKey: '*******************'
                      SecurityKey: '************************'
                    policy:
                      name: AWS_profile
                      entityType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                      executionOrder: 0
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
              example-azure-basic:
                value:
                  - name: Azure Basic Discovery profile
                    credentialSet: Azure Credentials
              example-azure-schedule:
                value:
                  - name: Azure discovery profile with schedule
                    credentialSet: Azure Credentials
                    schedule:
                      patternType: HOURLY
                      pattern: '2'
                      startTime: '02:00:00'
              example-azure-schedule-policy:
                value:
                  - name: Azure
                    credentialSet: Azure_policy
                    policy:
                      name: Azure
                      resourceType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                      executionOrder: 0
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
              example-azure-credentials-schedule-policy:
                value:
                  - name: Azure_Profile
                    credential:
                      credentialType: Azure
                      AzureType: ARM
                      SubscriptionId: '*******'
                      TenantId: '********'
                      ClientID: '*********'
                      SecretKey: '*******'
                    policy:
                      name: Azure
                      resourceType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_DEVICE
                        - filterType: EBS
                        - filterType: WEBSITE
                        - filterType: SQL_SERVER
                        - filterType: SQL_DATABASE
                        - filterType: RESOURCE_GROUP
                        - filterType: REDIS_CACHE
                        - filterType: DOCUMENT_DB
                      actions:
                        - action: MANAGE DEVICE
                        - action: ASSIGN GATEWAY MANAGEMENT PROFILE
                          items:
                            - item: '24422'
                        - action: INSTALL OPSRAMP AGENT
                          items:
                            - item: '169743'
                        - action: SELECT GATEWAY
                          items:
                            - item: '24422'
                      executionOrder: 0
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
              example-google-basic:
                value:
                  - name: Google Basic Discovery profile
                    credentialSet: Google GOOGLE_Integration
              example-google-credentials-schedule-policy:
                value:
                  - name: Google
                    credential:
                      credentialType: Google
                      ServiceAccountEmail: '**********'
                      ProjectId: '*********'
                      ServiceAccountManagementCertificate: MIIJqAIBAzCCCWIGCSqGSIb3DQEHAaCCCVMEgglPMIIJSzCCBXAGCSqGSIb3DQEHAaCCBWEEggVdjqWWqTFyUbIAM/EKB3HLK3AgIEAA==
                      ManagementCertificatePassPhrase: '*******'
                    policy:
                      name: GOOGLE
                      resourceType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                      executionOrder: 0
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
    get:
      description: 'gets a list of discovery profiles and their details for AWS, Azure, and Google.'
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/discoveryProfile'
              examples:
                example-aws:
                  value:
                    - id: 110
                      name: AWS discovery profile
                      credentialSet: AWS_AWSIntegration
                      credential:
                        credentialName: AWS_AWSIntegration
                        accountId: '290642135903'
                      policy:
                        id: 136
                        name: AWS discovery profile
                        entityType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                          - action: STREAM AWS ALERTS
                            items:
                              - item: 'https://cloudwatch-url'
                                parameters: {}
                                instances: {}
                        executionOrder: 0
                      schedule:
                        patternType: HOURLY
                        pattern: '2'
                        startTime: '02:00:00'
                    - id: 111
                      name: AWS discovery profile
                      credentialSet: AWS_AWSIntegration
                      credential:
                        credentialName: AWS_AWSIntegration
                        accountId: '290642135903'
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-azure:
                  value:
                    - id: 102183
                      name: Azure
                      credentialSet: Azure Credentials
                      credential:
                        credentialName: Azure Credentials
                        accountId: 9ee6993f-a036-4118-9eab-c66d9fda1ef3
                      policy:
                        id: 39733
                        name: Azure
                        resourceType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_DEVICE
                          - filterType: EBS
                          - filterType: WEBSITE
                          - filterType: SQL_SERVER
                          - filterType: SQL_DATABASE
                          - filterType: RESOURCE_GROUP
                          - filterType: REDIS_CACHE
                          - filterType: DOCUMENT_DB
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                          - action: ASSIGN GATEWAY MANAGEMENT PROFILE
                            items:
                              - item: '24422'
                                parameters: {}
                                instances: {}
                          - action: INSTALL OPSRAMP AGENT
                            items:
                              - item: '169743'
                                parameters: {}
                                instances: {}
                          - action: SELECT GATEWAY
                            items:
                              - item: '24422'
                                parameters: {}
                                instances: {}
                        executionOrder: 0
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                    - id: 8751
                      name: Azure_profile
                      credentialSet: Azure Lab discovery profile
                      credential:
                        credentialName: Azure Lab discovery profile
                        accountId: 9ee6993f-a036-4118-9eab-c66d9fda1ef3
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
    put:
      description: 'Updates discovery profiles for AWS, Azure, and Google.'
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/discoveryProfile'
              examples:
                example-aws-basic:
                  value:
                    - id: 109
                      name: AWS Basic Discovery profile
                      credentialSet: AWS_1
                      credential:
                        credentialName: AWS_1
                        accountId: '***********'
                example-aws-schedule:
                  value:
                    - id: 120
                      name: AWS discovery profile with schedule
                      installedIntegrationId: INTG-5de40426-6edb-4f40-9274-d8827b683e40
                      credentialSet: AWS AWS Integration
                      credential:
                        credentialName: AWS AWS Integration
                        accountId: '*********'
                      policy:
                        id: 1621
                        uid: POLICY-35a98317-cd21-4f81-aad9-331e8e8cca0e
                        name: AWS discovery profile with schedule
                        matchType: ANY
                        rules:
                          - id: 2061
                            filterType: ANY_CLOUD_RESOURCE
                        actions: []
                        entityType: ALL
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-aws-policy:
                  value:
                    - id: 110
                      name: AWS discovery profile with policy
                      credentialSet: AWS_AWSIntegration
                      credential:
                        credentialName: AWS_AWSIntegration
                        accountId: '***********'
                      policy:
                        id: 136
                        name: AWS discovery profile with policy
                        entityType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                          - action: STREAM AWS ALERTS
                            items:
                              - item: 'https://cloudwatch-url'
                                parameters: {}
                                instances: {}
                        executionOrder: 0
                example-aws-schedule-policy:
                  value:
                    - id: 59
                      name: AWS discovery profile with schedule and policy
                      installedIntegrationId: INTG-5de40426-6edb-4f40-9274-d8827b683e40
                      credentialSet: AWS AWS Integration
                      credential:
                        credentialName: AWS AWS Integration
                        accountId: '************'
                      policy:
                        id: 1620
                        uid: POLICY-d6e78267-ccbb-41a8-9766-c8311299da98
                        name: AWS discovery profile with schedule and policy
                        matchType: ANY
                        rules:
                          - id: 2060
                            filterType: ANY_CLOUD_RESOURCE
                        actions: []
                        entityType: ALL
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-aws-credentials-schedule-policy:
                  value:
                    - id: 510
                      name: AWS_profile
                      credentialSet: AWS_Integration
                      credential:
                        credentialName: AWS_Integration
                        accountId: '************'
                      policy:
                        id: 736
                        name: AWS_profile
                        entityType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                        executionOrder: 0
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-google-basic:
                  value:
                    - id: 963
                      name: Google Basic Discovery profile
                      credentialSet: Google GOOGLEIntegration
                      credential:
                        credentialName: Google GOOGLEIntegration
                        accountId: GCE-integration
                example-google-schedule-policy:
                  value:
                    - id: 963
                      name: Google
                      credentialSet: Google GOOGLEIntegration
                      policy:
                        id: 822
                        name: GOOGLE
                        resourceType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                        executionOrder: 0
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-google-credentials-schedule-policy:
                  value:
                    - id: 963
                      name: Google
                      installedIntegrationId: INTG-8abf482f-1423-18b7-4578-be47080aaa72
                      credentialSet: Google GOOGLEIntegration
                      credential:
                        credentialName: Google GOOGLEIntegration
                        accountId: gce-integration
                      policy:
                        id: 822
                        name: GOOGLE
                        resourceType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                        executionOrder: 0
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/discoveryProfile'
            examples:
              example-aws-basic:
                value:
                  - name: AWS Basic Discovery profile
                    credentialSet: AWS_1
              example-aws-schedule:
                value:
                  - name: AWS discovery profile with schedule
                    credentialSet: AWS AWS Integration
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
              example-aws-policy:
                value:
                  - id: 110
                    name: AWS discovery profile with policy
                    credentialSet: AWS_AWSIntegration
                    policy:
                      entityType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                        - action: STREAM AWS ALERTS
                          items:
                            - item: 'https://cloudwatch-url'
              example-aws-schedule-policy:
                value:
                  - name: AWS discovery profile with schedule and policy
                    credentialSet: AWS AWS Integration
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
                    policy:
                      name: AWS discovery profile with schedule and policy
                      entityType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
              example-aws-credential-schedule-policy:
                value:
                  - id: 510
                    name: AWS_profile
                    credential:
                      credentialType: AWS
                      AccountNumber: '*************'
                      AccessKey: '*****************'
                      SecurityKey: '***************'
                    policy:
                      id: 736
                      name: AWS_profile
                      entityType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                      executionOrder: 0
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
              example-google-basic:
                value:
                  - id: 963
                    name: Google Basic Discovery profile
                    credentialSet: Google GOOGLEIntegration
              example-google-schedule-policy:
                value:
                  - id: 963
                    name: Google
                    credentialSet: Google GOOGLEIntegration
                    policy:
                      id: 822
                      name: GOOGLE
                      resourceType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                      executionOrder: 0
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
              example-google-credentials-schedule-policy:
                value:
                  - id: 963
                    name: Google
                    credential:
                      credentialType: Google
                      ServiceAccountEmail: '************'
                      ProjectId: '***********'
                      ServiceAccountManagementCertificate: MIIJqAIBAzCCCWIGCSqGSIb3DQEHAaCCCVMEgglPMIIJSzCCBXAGCSqGSIb3DQEHAaCCBWEEggVdMIIFWTCCBVUGCyqGSIb3DQEMCgECoIIE+jCCBPYwnEjqWWqTFyUbIAM/EKB3HLK3AgIEAA==
                      ManagementCertificatePassPhrase: '**********'
                    policy:
                      id: 822
                      name: GOOGLE
                      resourceType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                      executionOrder: 0
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/policies/discovery/{discoveryProfileId}':
    summary: Manage cloud discovery profile
    description: 'Gets and delete discovery profiles for AWS, Azure, and Google.'
    delete:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/httpResponse'
              examples:
                example-1:
                  value:
                    status: 200
                    entity: 'Removed discovery profile with id  : 54'
                    metadata: {}
                    length: -1
                    headers: {}
                    cookies: {}
                    actualEntity: 'Removed discovery profile with id  : 54'
                    links: []
                    stringHeaders: {}
                    statusInfo:
                      family: SUCCESSFUL
                      statusCode: 200
                      reasonPhrase: OK
                    allowedMethods: []
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/discoveryProfile'
              examples:
                example-aws:
                  value:
                    id: 110
                    name: AWS discovery profile
                    credentialSet: AWS Integration
                    credential:
                      credentialName: AWS Integration
                      accountId: '290642135901'
                    policy:
                      id: 136
                      name: AWS discovery profile
                      entityType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                        - action: STREAM AWS ALERTS
                          items:
                            - item: 'https://cloudwatch-url'
                              parameters: {}
                              instances: {}
                      executionOrder: 0
                    schedule:
                      patternType: HOURLY
                      pattern: '2'
                      startTime: '02:00:00'
                example-azure:
                  value:
                    id: 102183
                    name: Azure
                    credentialSet: Azure Credentials
                    credential:
                      credentialName: Azure Credentials
                      accountId: 9ee6993f-a036-4118-9eab-c66d9fda1ef3
                    policy:
                      id: 39733
                      name: Azure
                      resourceType: ALL
                      matchType: ANY
                      rules:
                        - filterType: ANY_DEVICE
                        - filterType: EBS
                        - filterType: WEBSITE
                        - filterType: SQL_SERVER
                        - filterType: SQL_DATABASE
                        - filterType: RESOURCE_GROUP
                        - filterType: REDIS_CACHE
                        - filterType: DOCUMENT_DB
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                        - action: ASSIGN GATEWAY MANAGEMENT PROFILE
                          items:
                            - item: '24422'
                              parameters: {}
                              instances: {}
                        - action: INSTALL OPSRAMP AGENT
                          items:
                            - item: '169743'
                              parameters: {}
                              instances: {}
                        - action: SELECT GATEWAY
                          items:
                            - item: '24422'
                              parameters: {}
                              instances: {}
                      executionOrder: 0
                    schedule:
                      patternType: MINUTES
                      pattern: '30'
                      startTime: '00:30:00'
                example-google:
                  value:
                    id: 963
                    name: Google
                    installedIntegrationId: INTG-8abf482f-1423-18b7-4578-be47080aaa72
                    credentialSet: Google GOOGLEIntegration
                    credential:
                      credentialName: Google GOOGLEIntegration
                      accountId: gce-integration
                    policy:
                      id: 822
                      name: GOOGLE
                      resourceType: ALL
                      matchType: ANY
                      rules:
                        - id: 18821
                          filterType: ANY_CLOUD_RESOURCE
                      actions:
                        - action: MANAGE DEVICE
                          items: []
                    schedule:
                      patternType: HOURLY
                      pattern: '2'
                      startTime: '02:00:00'
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/discoveryProfileId'
  '/api/v2/tenants/{tenantId}/policies/discovery/action/scan/{discoveryProfileId}':
    summary: Rescan discovery profiles
    description: 'Rescans an AWS, Azure, and Google discovery profile.'
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/httpResponse'
              examples:
                example-1:
                  value:
                    status: 200
                    entity: Request to scan the discoveryprofile has been initiated
                    metadata: {}
                    cookies: {}
                    allowedMethods: []
                    links: []
                    statusInfo:
                      reasonPhrase: OK
                      statusCode: 200
                      family: SUCCESSFUL
                    actualEntity: Request to scan the discoveryprofile has been initiated
                    stringHeaders: {}
                    headers: {}
                    length: -1
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - schema:
          type: string
        in: path
        name: discoveryProfileId
        required: true
        description: |
          The discovery profile Id.
  '/api/v2/tenants/{tenantId}/policies/discovery/search':
    summary: Search cloud discovery profiles
    description: 'Uses a discovery profile name to search for an AWS, Azure, and Google discovery profile.'
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/discoveryProfile'
              examples:
                example-aws:
                  value:
                    - id: 17
                      name: discovery
                      credentialSet: AWS Lab Testings
                      credential:
                        credentialName: AWS Lab Testings
                        accountId: '290642135904'
                      policy:
                        id: 354
                        name: discovery
                        entityType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                        executionOrder: 0
                example-azure:
                  value:
                    - id: 102183
                      name: Azure
                      credentialSet: Azure Credentails
                      credential:
                        credentialName: Azure Credentails
                        accountId: 9ee6993f-a036-4118-9eab-c66d9fda1ef3
                      policy:
                        id: 39733
                        name: Azure
                        resourceType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_DEVICE
                          - filterType: EBS
                          - filterType: WEBSITE
                          - filterType: SQL_SERVER
                          - filterType: SQL_DATABASE
                          - filterType: RESOURCE_GROUP
                          - filterType: REDIS_CACHE
                          - filterType: DOCUMENT_DB
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                          - action: ASSIGN GATEWAY MANAGEMENT PROFILE
                            items:
                              - item: '24422'
                                parameters: {}
                                instances: {}
                          - action: INSTALL OPSRAMP AGENT
                            items:
                              - item: '169743'
                                parameters: {}
                                instances: {}
                          - action: SELECT GATEWAY
                            items:
                              - item: '24422'
                                parameters: {}
                                instances: {}
                        executionOrder: 0
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                    - id: 8751
                      name: 'Azure Lab discovery profile '
                      credentialSet: Azure Lab
                      credential:
                        credentialName: Azure Lab
                        accountId: 8ef6993f-a036-4118-4eab-d66d9fefr3e6
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
                example-google:
                  value:
                    - id: 419
                      name: Google Integration
                      installedIntegrationId: INTG-7bce592f-1343-54b7-4578-be47080aae54
                      credentialSet: Google Credentials
                      credential:
                        credentialName: Google Credentials
                        accountId: GCE-integration
                      policy:
                        id: 822
                        name: GOOGLE
                        resourceType: ALL
                        matchType: ANY
                        rules:
                          - id: 26836
                            filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
                            items: []
                      schedule:
                        patternType: MINUTES
                        pattern: '30'
                        startTime: '00:30:00'
      parameters:
        - schema:
            type: string
          in: query
          name: name
          description: Discovery profile name
          required: true
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/install/CUSTOM':
    summary: Install custom integration
    description: Installs a custom integration.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-category-alertSource:
                  value:
                    id: INTG-6aa0bbec-ef5b-4ff2-b373-5a4f7ab0a385
                    displayName: API Testing
                    integration:
                      id: CUSTOM
                      name: Custom
                      multipleInstallations: true
                    category: Monitoring
                    installedBy: opsramp_api_user
                    installedTime: '2020-10-08T07:25:24+0100'
                    status: enabled
                    alertSource:
                      id: 30
                      name: Custom
                      displayName: Custom
                      techUid: CUSTOM
                example-category-dropAlerts-monitoring:
                  value:
                    id: INTG-6aa0bbec-ef5b-4ff2-b373-5a4f7ab0a385
                    displayName: API Testing
                    integration:
                      id: CUSTOM
                      name: Custom
                      multipleInstallations: true
                    category: Monitoring
                    inboundConfig:
                      dropAlerts: true
                    installedBy: opsramp_api_user
                    installedTime: '2020-10-08T07:25:24+0100'
                    status: enabled
                    alertSource:
                      id: 30
                      name: Custom
                      displayName: Custom
                      techUid: CUSTOM
                example-category-direction:
                  value:
                    id: INTG-7213eaa0-8c59-42b2-a1db-90147cfd3ef3
                    displayName: InboundApp
                    integration:
                      id: CUSTOM
                      name: Custom
                      multipleInstallations: true
                    category: Collaboration
                    installedBy: opsramp_api_user
                    installedTime: '2020-10-08T07:25:24+0100'
                    status: enabled
                    direction: Inbound
                example-authentication-only:
                  value:
                    id: INTG-7a63759b-355f-41af-b729-38400efd33b7
                    displayName: Custom-Integration
                    integration:
                      id: CUSTOM
                      name: Custom
                      multipleInstallations: true
                    inboundConfig:
                      authentication:
                        authType: OAUTH2
                        apiKeyPairs:
                          - key: qaR9sbe**********vAuzd
                            secret: VM5w***hUS7*************C7ZKtJ******XmHVY
                        role:
                          uniqueId: ROLE-4d64a7ca-20ca-7c7c-e439-3977aa9c87a4
                          name: Client Administrator
                    category: Custom
                    installedBy: opsramp_api_user
                    installedTime: '2021-06-18T07:09:46+0100'
                    status: enabled
                example-category-collaboration-entities:
                  value:
                    id: INTG-58431d1c-1bdc-4a68-a49f-34435ead1d14
                    displayName: API Testing
                    integration:
                      id: CUSTOM
                      name: Custom
                      multipleInstallations: true
                    category: Custom
                    installedBy: opsramp_api_user
                    installedTime: '2020-10-08T07:25:24+0100'
                    status: enabled
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: 7VttjkVtm7qk6AwaRpED4Uh4jdAFpaVb
                        role:
                          uniqueId: ROLE-4718b729-50cc-6634-42c4-ecd09558389d
                          name: Customer
                        webhookUrl: 'https://api.opsramp.com/integrations/client_4/webhook/incident?vtoken=k6v4SUF3TSEgyxJsmvRShZwVs9Ran3VY'
                        entityTypes:
                          - INCIDENT
                          - CHANGE
                        webhookDetails:
                          - webhookEntityType: INCIDENT
                            url: 'https://api.opsramp.com/integrations/client_4/webhook/incident?vtoken=k6v4SUF3TSEgyxJsmvRShZwVs9Ran3VY'
                          - webhookEntityType: CHANGE
                            url: 'https://api.opsramp.com/integrations/client_4/webhook/change?vtoken=k6v4SUF3TSEgyxJsmvRShZwVs9Ran3VY'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-category-alertSource:
                value:
                  displayName: API Testing
                  category: Monitoring
                  alertSource:
                    id: 30
              example-category-dropAlerts-monitoring:
                value:
                  displayName: API Testing
                  category: Monitoring
                  alertSource:
                    id: 30
                  inboundConfig:
                    dropAlerts: true
              example-category-direction:
                value:
                  displayName: InboundApp
                  category: Collaboration
                  direction: Inbound
              example-authentication-only:
                value:
                  displayName: Custom-Integration
                  category: Custom
                  inboundConfig:
                    authentication:
                      authType: OAUTH2
                      role:
                        uniqueId: ROLE-4d64a7ca-20ca-7c7c-e439-3977aa9c87a4
              example-category-collaboration-entities:
                value:
                  displayName: InboundApp
                  category: Collaboration
                  direction: Inbound
                  inboundConfig:
                    authentication:
                      authType: WEBHOOK
                    entityTypes:
                      - INCIDENT
                      - CHANGE
        description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/available/{installedIntgId}/emailProps/{entityType}':
    summary: Get configurable email properties
    description: Gets the email properties of an entity.
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
    parameters:
      - in: path
        name: tenantId
        schema:
          type: string
        description: Describes the client ID or msp ID of the tenant
        required: true
      - name: installedIntgId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Unique Identifier of the installed integration
      - $ref: '#/components/parameters/entityType'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/inbound/authentication':
    summary: Manage inbound authentication
    description: Creates and updates installed integration inbound authentication.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  authType:
                    type: string
                  apiKeyPairs:
                    type: array
                    items:
                      type: object
                      properties:
                        key:
                          type: string
                  token:
                    type: string
              examples:
                example-OAUTH2:
                  value:
                    authType: OAUTH2
                    apiKeyPairs:
                      - key: EkWCgfV465DhFd7BBeWEhQXrmXYsD5Qj
                example-WEBHOOK:
                  value:
                    authType: WEBHOOK
                    token: gvKnS9rPErNmYhUrBZE4EnXBWhGN9zb4
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/authentication'
            examples:
              example-OAUTH2:
                value:
                  authType: OAUTH2
              example-WEBHOOK:
                value:
                  authType: WEBHOOK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/mappingAttr':
    summary: Manage installed integration mapping attributes
    description: |
      Creates, updates, and gets installed integration mapping attributes.

      This attribute mapping is not applicable for email integrations.
    post:
      tags:
        - integrations
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                inboundConfig:
                  $ref: '#/components/schemas/mapAttributes'
                outboundConfig:
                  $ref: '#/components/schemas/mapAttributes'
            examples:
              example-inbound:
                value:
                  inboundConfig:
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                          - attrValue: New
                            thirdPartyAttrValue: New
                          - attrValue: On Hold
                            thirdPartyAttrValue: Delay
                          - attrValue: Pending
                            thirdPartyAttrValue: In Line
                          - attrValue: Resolved
                            thirdPartyAttrValue: Fixed
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Important
                          - attrValue: Low
                            thirdPartyAttrValue: Minor
                          - attrValue: Normal
                            thirdPartyAttrValue: Major
                          - attrValue: Urgent
                            thirdPartyAttrValue: V. Important
                          - attrValue: Very Low
                            thirdPartyAttrValue: Low
              example-outbound:
                value:
                  outboundConfig:
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                          - attrValue: New
                            thirdPartyAttrValue: New
                          - attrValue: On Hold
                            thirdPartyAttrValue: Delay
                          - attrValue: Pending
                            thirdPartyAttrValue: In Line
                          - attrValue: Resolved
                            thirdPartyAttrValue: Fixed
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Important
                          - attrValue: Low
                            thirdPartyAttrValue: Minor
                          - attrValue: Normal
                            thirdPartyAttrValue: Major
                          - attrValue: Urgent
                            thirdPartyAttrValue: V. Important
                          - attrValue: Very Low
                            thirdPartyAttrValue: Low
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/mapAttributes'
              examples:
                example-inbound:
                  value:
                    - name: Status
                      attrName: serviceRequest.status.name
                      thirdPartyAttrName: Status
                      entityType: SERVICEREQUEST
                      thirdPartyEntityType: SRQ
                      attrValues:
                        - attrValue: Open
                          thirdPartyAttrValue: In Progress
                        - attrValue: Closed
                          thirdPartyAttrValue: Completed
                        - attrValue: New
                          thirdPartyAttrValue: New
                        - attrValue: On Hold
                          thirdPartyAttrValue: Delay
                        - attrValue: Pending
                          thirdPartyAttrValue: In Line
                        - attrValue: Resolved
                          thirdPartyAttrValue: Fixed
                    - name: Priority
                      attrName: serviceRequest.priority.name
                      thirdPartyAttrName: severity
                      entityType: SERVICEREQUEST
                      thirdPartyEntityType: SRQ
                      attrValues:
                        - attrValue: High
                          thirdPartyAttrValue: Important
                        - attrValue: Low
                          thirdPartyAttrValue: Minor
                        - attrValue: Normal
                          thirdPartyAttrValue: Major
                        - attrValue: Urgent
                          thirdPartyAttrValue: V. Important
                        - attrValue: Very Low
                          thirdPartyAttrValue: Low
                example-outbound:
                  value:
                    - name: Status
                      attrName: serviceRequest.status.name
                      thirdPartyAttrName: Status
                      entityType: SERVICEREQUEST
                      thirdPartyEntityType: SRQ
                      attrValues:
                        - attrValue: Open
                          thirdPartyAttrValue: In Progress
                        - attrValue: Closed
                          thirdPartyAttrValue: Completed
                        - attrValue: New
                          thirdPartyAttrValue: New
                        - attrValue: On Hold
                          thirdPartyAttrValue: Delay
                        - attrValue: Pending
                          thirdPartyAttrValue: In Line
                        - attrValue: Resolved
                          thirdPartyAttrValue: Fixed
                    - name: Priority
                      attrName: serviceRequest.priority.name
                      thirdPartyAttrName: severity
                      entityType: SERVICEREQUEST
                      thirdPartyEntityType: SRQ
                      attrValues:
                        - attrValue: High
                          thirdPartyAttrValue: Important
                        - attrValue: Low
                          thirdPartyAttrValue: Minor
                        - attrValue: Normal
                          thirdPartyAttrValue: Major
                        - attrValue: Urgent
                          thirdPartyAttrValue: V. Important
                        - attrValue: Very Low
                          thirdPartyAttrValue: Low
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/mapAttributes'
              examples:
                example-entity:
                  value:
                    - name: Assignee group name
                      attrName: incident.assigneeGroup.name
                      thirdPartyAttrName: group.name
                      entityType: INCIDENT
                      thirdPartyEntityType: INCIDENTS
                      mode: OUTBOUND
                      attrValues:
                        - attrValue: Brocade Inc Users
                          thirdPartyAttrValue: brcIncOB
                    - name: Status
                      attrName: incident.status.name
                      thirdPartyAttrName: State
                      entityType: INCIDENT
                      thirdPartyEntityType: INCIDENTS
                      mode: OUTBOUND
                      attrValues:
                        - attrValue: Closed
                          thirdPartyAttrValue: Completed
                    - name: Priority
                      attrName: incident.priority.name
                      thirdPartyAttrName: Level of Importance
                      entityType: INCIDENT
                      thirdPartyEntityType: INCIDENTS
                      mode: OUTBOUND
                      attrValues:
                        - attrValue: Very Low
                          thirdPartyAttrValue: Low
                    - name: Priority
                      attrName: incident.priority.name
                      thirdPartyAttrName: priority
                      entityType: INCIDENT
                      thirdPartyEntityType: INCIDENTS
                      mode: INBOUND
                      attrValues:
                        - attrValue: Very Low
                          thirdPartyAttrValue: Low
                example-entity-with-mode:
                  value:
                    - name: Status
                      attrName: serviceRequest.status.name
                      thirdPartyAttrName: state
                      entityType: SERVICEREQUEST
                      thirdPartyEntityType: SERVICEREQUESTS
                      mode: OUTBOUND
                      attrValues:
                        - attrValue: Closed
                          thirdPartyAttrValue: Completed
                    - name: Priority
                      attrName: serviceRequest.priority.name
                      thirdPartyAttrName: Preference
                      entityType: SERVICEREQUEST
                      thirdPartyEntityType: SERVICEREQUESTS
                      mode: OUTBOUND
                      attrValues:
                        - attrValue: Very Low
                          thirdPartyAttrValue: Low
                example-entity-with-attribute-and mode:
                  value:
                    - name: Status
                      attrName: incident.status.name
                      thirdPartyAttrName: state
                      entityType: INCIDENT
                      thirdPartyEntityType: INCIDENTS
                      mode: INBOUND
                      attrValues:
                        - attrValue: Closed
                          thirdPartyAttrValue: Completed
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/notifier':
    summary: Manage installed integration base notifier
    description: Creates and updates an installed integration base notifier.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/notifier'
              examples:
                example-NONE:
                  value:
                    baseURI: www.google.com
                    authType: NONE
                example-OAUTH2-CLIENT_CREDENTIALS:
                  value:
                    baseURI: www.google.com
                    authType: OAUTH2
                    grantType: CLIENT_CREDENTIALS
                    apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                    accessTokenURI: www.token.com/cred
                example-OAUTH2-PASSWORD:
                  value:
                    baseURI: www.google.com
                    authType: OAUTH2
                    grantType: PASSWORD
                    userName: testUser
                    apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                    accessTokenURI: www.token.com/cred
                example-JWT:
                  value:
                    baseURI: 'https://us1-smax.saas.microfocus.com'
                    authType: JWT
                    userName: test
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/notifier'
            examples:
              example-NONE:
                value:
                  type: SOAP_API
                  baseURI: www.google.com
                  authType: NONE
              example-OAUTH2-CLIENT_CREDENTIALS:
                value:
                  type: REST_API
                  baseURI: www.google.com
                  authType: OAUTH2
                  grantType: CLIENT_CREDENTIALS
                  accessTokenURI: www.token.com/cred
                  apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                  apiSecret: '**********************'
              example-OAUTH2-PASSWORD:
                value:
                  type: REST_API
                  baseURI: www.google.com
                  authType: OAUTH2
                  grantType: PASSWORD
                  userName: testUser
                  password: '**********'
                  accessTokenURI: www.token.com/cred
                  apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                  apiSecret: '*****************************************'
              example-JWT:
                value:
                  type: REST_API
                  baseURI: 'https://us1-smax.saas.microfocus.com'
                  authType: JWT
                  userName: test
                  password: Test
                  tokenPayload:
                    rest: ''
                  tokenURL: 'https://us1-smax.saas.microfocus.com/auth/authentication-endpoint/authenticate/login'
                  tokenHeaders:
                    - key: Authorization
                      value: Basic Base64EncodedCredentials
                    - key: accept
                      value: application/json
                    - key: Content-Type
                      value: application/json
                  tokensPath:
                    - key: jwtToken
                      value: rest_access.access_key
                  resourceAuthHeaders:
                    - key: accept
                      value: $jwtToken
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/disable':
    summary: Disable integration
    description: 'Disables an installed integration, temporarily disabling the integration services.'
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/enable':
    summary: Enable installed integration
    description: Enables an installed integration.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/event/{eventId}/activate':
    summary: Activate integration event
    description: Activates an integration event.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
      - $ref: '#/components/parameters/eventId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/event':
    summary: Create integration event
    description: |-
      Creates an integration event.

      Events are used for sending certain notifications whenever an action is performed on OpsRamp entities.

      ###### Notes

      - Provide API payload in Base64 encoding.
      - Integration event for Alert entity is created only using API but can be viewed from the OpsRamp Portal.

      Create Event with Alert Entity Type to create an event with alert entity type for work flow events only.
    post:
      tags:
        - integrations
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationEvent'
            examples:
              example-create:
                value:
                  name: Create event
                  entity: INCIDENT
                  eventType: CREATE
                  notifier:
                    type: SOAP_API
                    baseURI: www.google.com
                    authType: OAUTH2
                    userName: testUser
                    password: test
                  endPointURI: www.google.com/update
                  headers:
                    - key: accept
                      value: application/json
                    - key: Content-Type
                      value: application/json
                  thirdPartyEventType: POST
                  payload: ew0KInN1YmplY3QiOiIkaW5jaWRlbnQuc3ViamVjdCIsDQoiZGVzY3JpcHRpb24iOiIkaW5jaWRlbnQuaW1wYWN0IiwNCiJwcmlvcml0eSI6IiRpbmNpZGVudC5wcmlvcml0eS5uYW1lIg0KInN0YXV0cyI6ImhpZ2giDQp9
              example-create-with-filter:
                value:
                  name: Create event with policy
                  entity: INCIDENT
                  eventType: CREATE
                  filterCriteria:
                    matchType: ANY
                    rules:
                      - key: Subject
                        operator: Contains
                        value: test
                        resourceType: INCIDENT
                      - key: Description
                        operator: Contains
                        value: testing
                        resourceType: INCIDENT
                  notifier:
                    type: SOAP_API
                    baseURI: www.google.com
                    authType: OAUTH2
                    userName: testUser
                    password: test
                  endPointURI: www.google.com/update
                  headers:
                    - key: accept
                      value: application/json
                    - key: Content-Type
                      value: application/json
                  thirdPartyEventType: POST
                  payload: ew0KInN1YmplY3QiOiIkaW5jaWRlbnQuc3ViamVjdCIsDQoiZGVzY3JpcHRpb24iOiIkaW5jaWRlbnQuaW1wYWN0IiwNCiJwcmlvcml0eSI6IiRpbmNpZGVudC5wcmlvcml0eS5uYW1lIg0KInN0YXV0cyI6ImhpZ2giDQp9
              example-create-alert-entity:
                value:
                  name: Alert event test
                  entity: ALERT
                  eventType: CREATE
                  notifier:
                    type: SOAP_API
                    baseURI: www.google.com
                    authType: OAUTH2
                    userName: testUser
                    password: test
                  endPointURI: www.google.com/update
                  headers:
                    - key: accept
                      value: application/json
                    - key: Content-Type
                      value: application/json
                  thirdPartyEventType: POST
                  payload: ewoJInNlcnZpY2VOYW1lIjoiJGFsZXJ0LnNlcnZpY2VOYW1lIiwKCSJyZXNvdXJjZSI6ewoJCSJpZCI6IiRhbGVydC5yZXNvdXJjZUlkIgoJfSwKCSJzdWJqZWN0IjoiJGFsZXJ0LnN1YmplY3QiLAogICAgICAgICJjdXJyZW50U3RhdGUiOiIkYWxlcnQuY3VycmVudFN0YXRlIiwKCSJhcHAiOiJPUFNSQU1QIgp9
        description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-create:
                  value:
                    id: INTG-EVENT-debdf8a2-6986-4398-adfc-e50b185d049a
                    name: Create event
                    entity: INCIDENT
                    notifier:
                      baseURI: www.google.com/update
                      authType: OAUTH2
                      userName: testUser
                    headers:
                      - key: accept
                        value: application/json
                      - key: Content-Type
                        value: application/json
                    eventPayload: "{\r\n'subject':'$incident.subject',\r\n'description':'$incident.impact',\r\n'priority':'$incident.priority.name'\r\n}"
                example-create-with-filter:
                  value:
                    id: INTG-EVENT-717000e9-bc95-4339-adf7-db7a43db2580
                    name: Create event with policy
                    entity: INCIDENT
                    filterCriteria:
                      id: 140
                      name: Create event with policy
                      matchType: ALL
                      rules:
                        - id: 579
                          key: Subject
                          operator: Contains
                          value: test
                          resourceType: INCIDENT
                        - id: 580
                          key: Description
                          operator: Contains
                          value: testing
                          resourceType: INCIDENT
                      actions: []
                    notifier:
                      baseURI: www.google.com/update
                      authType: OAUTH2
                      userName: testUser
                    headers:
                      - key: accept
                        value: application/json
                      - key: Content-Type
                        value: application/json
                    eventPayload: "{\r\n'subject':'$incident.subject',\r\n'description':'$incident.impact',\r\n'priority':'$incident.priority.name'\r\n'stauts':'high'\r\n}"
                example-create-alert-entity:
                  value:
                    id: INTG-EVENT-61301956-5a04-405e-9ee1-03f62595ca05
                    name: Alert event test
                    entity: ALERT
                    notifier:
                      baseURI: www.google.com/update
                      authType: OAUTH2
                      userName: testUser
                    thirdPartyEventType: POST
                    headers:
                      - key: accept
                        value: application/json
                      - key: Content-Type
                        value: application/json
                    eventPayload: "{\n\t'serviceName':'$alert.serviceName',\n\t'resource':{\n\t\t'id':'$alert.resourceId'\n\t},\n\t'subject':'$alert.subject',\n        'currentState':'$alert.currentState',\n\t'app':'OPSRAMP'\n}"
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/events/{actions}':
    summary: Create integration event
    description: |-
      Creates an integration event.

      Events are used for sending certain notifications whenever an action is performed on OpsRamp entities.

      ###### Notes

      - Provide API payload in Base64 encoding.
      - Integration event for Alert entity is created only using API but can be viewed from the OpsRamp Portal.

      Create Event with Alert Entity Type to create an event with alert entity type for work flow events only.
    post:
      tags:
        - integrations
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  retry-events:
                    - eventsIds:
                        - eventId-1
                        - eventId-2
                        - eventId-3
                        - eventId-4
                      timeRange:
                        startTime: time-1
                        endTime: time-2
                      intgMode: INBOUND
                    - eventsIds:
                        - eventId-1
                        - eventId-2
                        - eventId-3
                        - eventId-4
                      timeRange:
                        startTime: time-1
                        endTime: time-2
                      intgMode: OUTBOUND
              properties:
                retry-events:
                  type: array
                  uniqueItems: true
                  minItems: 1
                  items:
                    $ref: '#/components/schemas/re-tryEvent'
            examples:
              retry-failedEvents-dateRange:
                value:
                  retry-events:
                    - timeRange:
                        startTime: '24253566'
                        endTime: '4654788'
                      intgMode: OUTBOUND
              retry-failedEventIds:
                value:
                  retry-events:
                    - eventList:
                        - event-12345
                        - event-32443
                        - event-86789
                      intgMode: INBOUND
        description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    results:
                      - installedintgId: string
                        intgName: string
                        resourceId: string
                        resourceType: string
                        status: string
                        statusMessage: string
                        reqPayload: string
                        resPayload: string
                        requestUrl: string
                        intgMode: string
                        processedTime: 0
                    totalResults: 0
                    pageSize: 0
                    totalPages: 0
                    nextPage: true
                    descendingOrder: true
                    pageNo: 0
                properties:
                  results:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        installedintgId:
                          type: string
                          minLength: 1
                        intgName:
                          type: string
                          minLength: 1
                        resourceId:
                          type: string
                          readOnly: true
                        resourceType:
                          type: string
                          readOnly: true
                        status:
                          type: string
                          minLength: 1
                        statusMessage:
                          type: string
                          minLength: 1
                        reqPayload:
                          type: string
                          readOnly: true
                        resPayload:
                          type: string
                          readOnly: true
                        requestUrl:
                          type: string
                          readOnly: true
                        intgMode:
                          type: string
                          minLength: 1
                        processedTime:
                          type: number
                  totalResults:
                    type: number
                  pageSize:
                    type: number
                  totalPages:
                    type: number
                  nextPage:
                    type: boolean
                  descendingOrder:
                    type: boolean
                  pageNo:
                    type: number
              examples:
                retry-failedEvents-dateRange:
                  value:
                    results:
                      - intgName: SERVICENOW
                        resourceId: bb6dcbe3-AXidcbe3
                        resourceType: SERVER
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-8b33-4b354ad53fe3/eventID'
                        intgMode: OUTBOUND
                        processedTime: 1488970355393
                      - intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-8b33-4b354ad53fe3/eventID'
                        intgMode: OUTBOUND
                        processedTime: 1488970300924
                      - intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-8b33-4b354ad53fe3/eventID'
                        intgMode: OUTBOUND
                        processedTime: 1488970299546
                      - intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-8b33-4b354ad53fe3/eventID'
                        intgMode: OUTBOUND
                        processedTime: 1488970263464
                    totalResults: 4
                    pageNo: 1
                    pageSize: 100
                    totalPages: 1
                    nextPage: false
                    descendingOrder: false
                retry-failedEvents:
                  value:
                    results:
                      - intgName: SERVICENOW
                        resourceId: bb6dcbe3-AXidcbe3
                        resourceType: SERVER
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-9ec3-6rc76dc59fc5/eventID'
                        intgMode: INBOUND
                        processedTime: 1488970355393
                      - intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-9ec3-6rc76dc59fc5/eventID'
                        intgMode: INBOUND
                        processedTime: 1488970300924
                      - intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-9ec3-6rc76dc59fc5/eventID'
                        intgMode: INBOUND
                        processedTime: 1488970299546
                      - intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-9ec3-6rc76dc59fc5/eventID'
                        intgMode: INBOUND
                        processedTime: 1488970263464
                      - intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/eventId'
                        intgMode: INBOUND
                        processedTime: 1488970237096
                      - intgName: SERVICENOW
                        resourceId: ''
                        resourceType: ''
                        status: SUCCESS
                        statusMessage: Processed successfully
                        reqPayload: ''
                        resPayload: '{"pageSize":0,"nextPage":false,"descendingOrder":false}'
                        requestUrl: 'https://<api-url>/api/v2/tenants/client_9/INTG-bb6dcbe3-6477-42d0-9ec3-6rc76dc59fc5/eventID'
                        intgMode: INBOUND
                        processedTime: 1488970235663
                    totalResults: 6
                    pageNo: 1
                    pageSize: 100
                    totalPages: 1
                    nextPage: false
                    descendingOrder: false
    parameters:
      - in: path
        name: tenantId
        schema:
          type: string
        description: Describes the client ID or msp ID of the tenant
        required: true
      - name: installedIntgId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Unique Identifier of the installed integration
      - schema:
          type: string
          enum:
            - re-try
        name: actions
        in: path
        required: true
        description: Supported action to be re-tried on the failed events
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/event/{eventId}/deactivate':
    summary: Deactivate integration event
    description: Deactivates an integration event.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
      - $ref: '#/components/parameters/eventId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}/event/{eventId}':
    summary: Manage integration event
    description: 'Updates, gets, and deletes an integration event.'
    delete:
      tags:
        - integrations
      responses:
        '200':
          description: OK
    post:
      tags:
        - integrations
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationEvent'
            examples:
              example-1:
                value:
                  name: Create event with policy and dep updated
                  entity: INCIDENT
                  eventType: CREATE
                  filterCriteria:
                    id: 141
                    matchType: ANY
                    rules:
                      - id: 581
                        key: Subject
                        operator: Contains
                        value: test
                        resourceType: INCIDENT
                      - id: 582
                        key: Description
                        operator: Contains
                        value: testing
                        resourceType: INCIDENT
                  notifier:
                    type: SOAP_API
                    baseURI: www.google.com
                    authType: BASIC
                    userName: testUser
                    password: test
                  headers:
                    - key: accept
                      value: application/json
                    - key: Content-Type
                      value: application/json
                  thirdPartyEventType: POST
                  payload: ew0KInN1YmplY3QiOiIkaW5jaWRlbnQuc3ViamVjdCIsDQoiZGVzY3JpcHRpb24iOiIkaW5jaWRlbnQuaW1wYWN0IiwNCiJwcmlvcml0eSI6IiRpbmNpZGVudC5wcmlvcml0eS5uYW1lIg0KInN0YXV0cyI6ImhpZ2giDQp9
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationEvent'
              examples:
                example-1:
                  value:
                    id: INTG-EVENT-c6d30f9c-2728-4760-ad97-8f3b6f2b6391
                    name: Create event with policy and dep updated
                    entity: INCIDENT
                    filterCriteria:
                      id: 141
                      name: Create event with policy and dep
                      matchType: ANY
                      rules:
                        - id: 581
                          key: Subject
                          operator: Contains
                          value: test
                          resourceType: INCIDENT
                        - id: 582
                          key: Description
                          operator: Contains
                          value: testing
                          resourceType: INCIDENT
                      actions: []
                    notifier:
                      baseURI: www.google.com
                      authType: BASIC
                      userName: testUser
                    headers:
                      - key: accept
                        value: application/json
                      - key: Content-Type
                        value: application/json
                    eventPayload: "{\r\n'subject':'$incident.subject',\r\n'description':'$incident.impact',\r\n'priority':'$incident.priority.name'\r\n'stauts':'high'\r\n}"
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationEvent'
              examples:
                example-1:
                  value:
                    id: INTG-EVENT-0e85ed91-35b7-4fe8-a702-45fab935961c
                    name: Ticket create event
                    entity: INCIDENT
                    notifier:
                      baseURI: 'https://urportal.com/create/tkt'
                    headers:
                      - key: Accept
                        value: application/json
                      - key: Content-Type
                        value: application/json
                    payload: |-
                      {
                      'subject':'$incident.subject',
                      'description':'$incident.impact',
                      'priority':'$incident.priority.name'
                      }
                    responseHeaders:
                      - key: extTicketId
                        value: $id
                      - key: Error Message
                        value: $err
                    depEvent:
                      headers:
                        - key: Accept
                          value: application/json
                        - key: Content-Type
                          value: application/json
                      payload: |-
                        {
                        'attach':'$attach.id'
                        }
                      depEndPointURI: 'https://urportal.com/create/tkt/attachment'
                      responseHeaders:
                        - key: id
                          value: $attch.id
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
      - $ref: '#/components/parameters/eventId'
  '/api/v2//tenants/{tenantId}/integrations/installed/{installedIntgId}/events':
    summary: Get installed integration events
    description: Gets installed integration events.
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/integrationEvent'
                  totalResults:
                    type: integer
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  descendingOrder:
                    type: boolean
              examples:
                example-1:
                  value:
                    results:
                      - id: INTG-EVENT-debdf8a2-6986-4398-adfc-e50b185d049a
                        name: Create event
                        entity: INCIDENT
                        notifier:
                          baseURI: www.domain.com
                        headers:
                          - key: accept
                            value: application/json
                          - key: Content-Type
                            value: application/json
                        payload: '{channel=#channelName, attachments=[{fallback=Incident create notification to slack, color=danger, pretext=New incident <$esc.java($utils.ticketAccessURL($incident.id,$incident.client.id,$incident.msp.id,$incident.serviceProviderId))| # $esc.java($incident.uniqueId)> created , author_name=By $esc.java($incident.createdBy.getFullName()), title=$incident.subject, title_link=$utils.ticketAccessURL($incident.id,$incident.client.id,$incident.msp.id,$incident.serviceProviderId), text=$incident.impact, fields=[{title=Priority, value=$incident.priority.name, short=false}], mrkdwn_in=[pretext], footer=OpsRamp, footer_icon=https://www.opsramp.com/wp-content/themes/twentythirteen/images/OpsRamp-Logo-300x300.png}]}'
                      - id: INTG-EVENT-717000e9-bc95-4339-adf7-db7a43db2580
                        name: Create event with policy
                        entity: INCIDENT
                        filterCriteria:
                          id: 140
                          name: Create event with policy
                          matchType: ALL
                          rules:
                            - id: 579
                              key: Subject
                              operator: Contains
                              value: test
                              resourceType: INCIDENT
                            - id: 580
                              key: Description
                              operator: Contains
                              value: testing
                              resourceType: INCIDENT
                          actions: []
                        notifier:
                          baseURI: www.domain.com
                        headers:
                          - key: accept
                            value: application/json
                          - key: Content-Type
                            value: application/json
                        payload: '{channel=#channelName, attachments=[{fallback=Incident create notification to slack, color=danger, pretext=New incident <$esc.java($utils.ticketAccessURL($incident.id,$incident.client.id,$incident.msp.id,$incident.serviceProviderId))| # $esc.java($incident.uniqueId)> created , author_name=By $esc.java($incident.createdBy.getFullName()), title=$incident.subject, title_link=$utils.ticketAccessURL($incident.id,$incident.client.id,$incident.msp.id,$incident.serviceProviderId), text=$incident.impact, fields=[{title=Priority, value=$incident.priority.name, short=false}], mrkdwn_in=[pretext], footer=OpsRamp, footer_icon=https://www.opsramp.com/wp-content/themes/twentythirteen/images/OpsRamp-Logo-300x300.png}]}'
                      - id: INTG-EVENT-c6d30f9c-2728-4760-ad97-8f3b6f2b6391
                        name: Create event with policy and dep updated
                        entity: INCIDENT
                        filterCriteria:
                          id: 141
                          name: Create event with policy and dep
                          matchType: ANY
                          rules:
                            - id: 581
                              key: Subject
                              operator: Contains
                              value: test
                              resourceType: INCIDENT
                            - id: 582
                              key: Description
                              operator: Contains
                              value: testing
                              resourceType: INCIDENT
                          actions: []
                        notifier:
                          baseURI: www.domain.com
                        headers:
                          - key: accept
                            value: application/json
                          - key: Content-Type
                            value: application/json
                        payload: '{channel=#channelName, attachments=[{fallback=Incident create notification to slack, color=danger, pretext=New incident <$esc.java($utils.ticketAccessURL($incident.id,$incident.client.id,$incident.msp.id,$incident.serviceProviderId))| # $esc.java($incident.uniqueId)> created , author_name=By $esc.java($incident.createdBy.getFullName()), title=$incident.subject, title_link=$utils.ticketAccessURL($incident.id,$incident.client.id,$incident.msp.id,$incident.serviceProviderId), text=$incident.impact, fields=[{title=Priority, value=$incident.priority.name, short=false}], mrkdwn_in=[pretext], footer=OpsRamp, footer_icon=https://www.opsramp.com/wp-content/themes/twentythirteen/images/OpsRamp-Logo-300x300.png}]}'
                        depEvent:
                          headers:
                            - key: accept
                              value: application/json
                            - key: Content-Type
                              value: application/json
                          payload: '{attach payload}'
                          depEndPointURI: www.attach.com/test
                      - id: INTG-EVENT-0e85ed91-35b7-4fe8-a702-45fab935961c
                        name: Ticket create event
                        entity: INCIDENT
                        notifier:
                          baseURI: 'https://urportal.com/create/tkt'
                        headers:
                          - key: Accept
                            value: application/json
                          - key: Content-Type
                            value: application/json
                        payload: |-
                          {
                          'subject':'$incident.subject',
                          'description':'$incident.impact',
                          'priority':'$incident.priority.name'
                          }
                        responseHeaders:
                          - key: extTicketId
                            value: $id
                          - key: Error Message
                            value: $err
                        depEvent:
                          headers:
                            - key: Accept
                              value: application/json
                            - key: Content-Type
                              value: application/json
                          payload: |-
                            {
                            'attach':'$attach.id'
                            }
                          depEndPointURI: 'https://urportal.com/create/tkt/attachment'
                          responseHeaders:
                            - key: id
                              value: $attch.id
                    totalResults: 4
                    pageNo: 1
                    pageSize: 100
                    totalPages: 1
                    nextPage: false
                    descendingOrder: false
    parameters:
      - schema:
          type: string
        in: path
        name: tenantId
        required: true
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2//tenants/{tenantId}/integrations/events/placeHolders/{entityType}':
    summary: Get integration event placeholders
    description: |-
      Gets the integration event placeholders of an entity.

      Supported entities are:
      - Incident
      - Change Request
      - Service Request
      - Problem
      - Task
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        value:
                          type: string
                        description:
                          type: string
                  totalResults:
                    type: integer
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  descendingOrder:
                    type: boolean
              examples:
                example-1:
                  value:
                    results:
                      - name: Access URL
                        value: '$utils.ticketAccessURL($incident.id,$incident.client.id,$incident.msp.id,$incident.serviceProviderId)'
                        description: Access URL of the incident
                      - name: Alert ID(s)
                        value: $incident.alertList
                        description: Alert id(s) of the incident incase incident is created from alert
                      - name: Alert source
                        value: $incident.tagValues.alertSource
                        description: Source of the alert in case the incident is created from alert
                      - name: Assigned device id(s)
                        value: $incident.deviceIds
                        description: Assigned device id(s) of the incident
                      - name: Assigned Name(s)
                        value: $incident.deviceList
                        description: Name(s) of the incident
                      - name: Assigned device(s) location
                        value: $incident.deviceLocation
                        description: Assigned device(s) location of the incident
                      - name: Assigned user
                        value: $incident.assignedTo.fullName
                        description: Assigned user to the incident
                      - name: Assignee group name
                        value: $incident.assigneeGroup.name
                        description: Assignee Group name of the Incident
                      - name: Associated change request ID
                        value: $incident.changeRequest.id
                        description: Associated changeRequest ID of the incident
                      - name: Associated incident ID
                        value: $incident.parentTicket.id
                        description: Associated parent incident ID of the incident
                      - name: Associated problem ID
                        value: $incident.problem.id
                        description: Associated problem ID of the incident
                      - name: Attachment base64 binary
                        value: $utils.attachmentData($resource)
                        description: Attached file content in base64 binary data
                      - name: Attachment file name
                        value: $utils.attachmentFileName($resource)
                        description: Attached file name of incident
                      - name: Attachment type
                        value: $utils.attachmentFileType($resource)
                        description: Attached file type of incident
                      - name: Category
                        value: $incident.entityCategory.categoryName
                        description: Category of the Incident
                      - name: Client name
                        value: $incident.client.name
                        description: Client name of the incident
                      - name: Client unique ID
                        value: $incident.client.uniqueId
                        description: Client UniqueId of the Incident
                      - name: Comment
                        value: $incident.response
                        description: Comment of the Incident
                      - name: Created date
                        value: '$utils.convertDate($incident.createdDate,''yyyy-MM-dd''T''HH:mm:ssZ'')'
                        description: Created date of the Incident
                      - name: Descritpion
                        value: $incident.impact
                        description: Description of the incident
                      - name: Due date
                        value: '$utils.convertDate($incident.dueDate,''yyyy-MM-dd''T''HH:mm:ssZ'')'
                        description: Due date of the Incident
                      - name: External ticket ID
                        value: '$utils.extEntityId($incident.id,$installedAppId,$entity)'
                        description: Integrated third-party ticket ID
                      - name: Incident ID
                        value: $incident.uniqueId
                        description: ID of the incident
                      - name: Latest comment description
                        value: $incident.latestResponse.description
                        description: Latest comment description
                      - name: Latest comment subject
                        value: $incident.latestResponse.subject
                        description: Response Subject of the Incident
                      - name: Latest comment visible to customer
                        value: $incident.latestResponse.visibleToCustomer
                        description: Response visibleToCustomer of the Incident
                      - name: Latest comments added by
                        value: $incident.latestResponse.creator.name
                        description: User who added latest response to incident
                      - name: Partner name
                        value: $incident.msp.name
                        description: Partner name of the incident
                      - name: Partner unique ID
                        value: $incident.msp.uniqueId
                        description: Partner UniqueId of the Incident
                      - name: Priority
                        value: $incident.priority.name
                        description: Priority of the incident
                      - name: Priority updated by
                        value: $incident.priorityUpdatedBy.name
                        description: User who updated priority of the incident
                      - name: PSA Ticket ID
                        value: $incident.psaTicketId
                        description: psaTicketId of the Incident
                      - name: Reason to change status
                        value: $incident.reason.name
                        description: Corresponding reason to change incident status
                      - name: Reported user name
                        value: $incident.requester.name
                        description: User who has created the incident
                      - name: Resolution summary
                        value: $incident.notes
                        description: Resolution summary of the Incident
                      - name: Source entity
                        value: $incident.sourceEntityType.name
                        description: 'From which source the incident was created (e.g, Alert or API, etc..)'
                      - name: Source entity ID
                        value: $incident.sourceEntityTypeId
                        description: 'ID of the source from which incident was created(e.g, Alert ID)'
                      - name: Source policy
                        value: $incident.sourcePolicyType.name
                        description: 'From which policy the incident was created (e.g, Autoincident, etc..) if any'
                      - name: Source policy ID
                        value: $incident.sourcePolicyTypeId
                        description: 'ID of the policy from which incident was created(e.g, Autoincident policy ID)'
                      - name: Status
                        value: $incident.status.name
                        description: Status of the incident
                      - name: Status updated by
                        value: $incident.statusUpdatedBy.name
                        description: User who updated the status of the incident
                      - name: Sub category
                        value: $incident.subCategory.categoryName
                        description: Sub Category of the Incident
                      - name: Subject
                        value: $incident.subject
                        description: Subject of the incident
                      - name: Suspend end date
                        value: '$utils.convertDate($incident.suspendEndDate,''yyyy-MM-dd''T''HH:mm:ssZ'')'
                        description: Suspend end date of the Incident
                      - name: TicketResponseId
                        value: $incident.latestResponse.extTicketResponseId
                        description: Ticket response external id
                    totalResults: 45
                    pageNo: 1
                    pageSize: 100
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/entityType'
  '/api/v2/tenants/{tenantId}/integrations/installed/{installedIntgId}':
    summary: Manage installed integration
    description: 'Updates, gets, and deletes the installed integration details.'
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-authentication-oauth2:
                  value:
                    id: INTG-58431d1c-1bdc-4a68-a49f-34435ead1d14
                    displayName: Custom Integration
                    integration:
                      id: CUSTOM
                      name: Custom
                    inboundConfig:
                      authentication:
                        authType: OAUTH2
                        token: 7VttjkVtm7qk6AwaRpED4Uh4jdAFpaVb
                        role:
                          uniqueId: ROLE-4718b729-50cc-6634-42c4-ecd09558389d
                          name: Customer
                example-authentication-webhook:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: YTxSGJdfkkfE3m7WaE8jYkwmsYjNU3VU
                example-inbound-configuration:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: YTxSGJdfkkfE3m7WaE8jYkwmsYjNU3VU
                      mapAttributes:
                        - name: Status
                          attrName: serviceRequest.status.name
                          thirdPartyAttrName: Status
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Priority
                          attrName: incident.priority.name
                          thirdPartyAttrName: severity
                          entityType: INCIDENT
                          thirdPartyEntityType: TICKET
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                        - name: Priority
                          attrName: serviceRequest.priority.name
                          thirdPartyAttrName: severity
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                example-outbound-configuration:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    outboundConfig:
                      baseNotifier:
                        baseURI: www.google.com
                        authType: OAUTH2
                        grantType: PASSWORD
                        userName: testUser
                        apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                        accessTokenURL: www.token.com/cred
                      mapAttributes:
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                example-inbound-outbound:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: YTxSGJdfkkfE3m7WaE8jYkwmsYjNU3VU
                      mapAttributes:
                        - name: Status
                          attrName: serviceRequest.status.name
                          thirdPartyAttrName: Status
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Priority
                          attrName: incident.priority.name
                          thirdPartyAttrName: severity
                          entityType: INCIDENT
                          thirdPartyEntityType: TICKET
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                        - name: Priority
                          attrName: serviceRequest.priority.name
                          thirdPartyAttrName: severity
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                    outboundConfig:
                      baseNotifier:
                        baseURI: www.google.com
                        authType: OAUTH2
                        grantType: PASSWORD
                        userName: testUser
                        apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                        accessTokenURL: www.token.com/cred
                      mapAttributes:
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                example-jwt:
                  value:
                    id: INTG-3f62e5c1-643b-41e3-a836-11c616e6f5df
                    displayName: AsPI Tnmesting
                    integration:
                      id: CUSTOM
                      name: Custom
                    outboundConfig:
                      baseNotifier:
                        baseURI: 'https://us1-smax.saas.microfocus.com'
                        authType: JWT
                        userName: test
                      mapAttributes:
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          mode: OUTBOUND
                          attrValues:
                            - attrValue: Open
                              thirdPartyAttrValue: good
                    category: Custom
                example-CASERVICEDESK:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: YTxSGJdfkkfE3m7WaE8jYkwmsYjNU3VU
                      mapAttributes:
                        - name: Status
                          attrName: ServiceRequest.status.name
                          thirdPartyAttrName: Status
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: REQUEST
                          attrValues:
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: Status
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: Good
                            - attrValue: Critical
                              thirdPartyAttrValue: Bad
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Priority
                          attrName: incident.priority.name
                          thirdPartyAttrName: Severity
                          entityType: INCIDENT
                          thirdPartyEntityType: TICKET
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Maximum
                            - attrValue: Low
                              thirdPartyAttrValue: Minimum
                        - name: Priority
                          attrName: serviceRequest.priority.name
                          thirdPartyAttrName: Severity
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: REQUEST
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Maximum
                            - attrValue: Low
                              thirdPartyAttrValue: Minimum
                    outboundConfig:
                      baseNotifier:
                        baseURI: www.google.com
                        authType: OAUTH2
                        grantType: PASSWORD
                        userName: testUser
                        apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                        accessTokenURI: www.token.com/cred
                      mapAttributes:
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: Good
                            - attrValue: Critical
                              thirdPartyAttrValue: Bad
                            - attrValue: Ok
                              thirdPartyAttrValue: Good
                            - attrValue: Critical
                              thirdPartyAttrValue: Bad
                example-okta:
                  value:
                    id: INTG-d13fcb67-d8a9-4283-9bd1-e9fb162e219c
                    integration:
                      id: OKTA
                      name: Okta
                    singleSignOnAuthentication:
                      type: Okta
                      issuerUrl: 'https://localhost.com/modify'
                      redirectionUrl: 'https://localhost.com/update'
                      logoutUrl: 'https://localhost.com/change'
                example-vmware-update:
                  value:
                    id: INTG-2e2854c6-8543-4a3c-be29-3ccc20542375
                    displayName: VMWARE-Updated_API_VMWARE
                    integration:
                      id: VMWARE
                      name: VMware
                      multipleInstallations: true
                    credential:
                      Name: vmcenter
                      autoMonitorable: false
                      id: 326
                      description: current credentials
                      port: 443
                      secure: true
                    installedBy: Dev
                    installedTime: '2021-02-29T12:40:07+0530'
                    discoveryProfiles:
                      - scanNow: true
                        mgmtProfileUuid: 76a89355-9c0a-443e-a897-8f69e6ca2da2
                        policy:
                          entityType: All
                          matchType: ANY
                          rules:
                            - filterType: ANY_CLOUD_RESOURCE
                          actions:
                            - action: Manage Device
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-authentication-oauth2:
                value:
                  displayName: Custom Integration
                  inboundConfig:
                    authentication:
                      authType: OAUTH2
                      role:
                        uniqueId: ROLE-4718b729-50cc-6634-42c4-ecd09558389d
              example-authentication-webhook:
                value:
                  displayName: Custom Integration
                  inboundConfig:
                    authentication:
                      authType: WEBHOOK
              example-inbound-configuration:
                value:
                  inboundConfig:
                    authentication:
                      authType: WEBHOOK
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Max
                          - attrValue: Low
                            thirdPartyAttrValue: min
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Max
                          - attrValue: Low
                            thirdPartyAttrValue: min
              example-outbound-configuration:
                value:
                  outboundConfig:
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: stats
                        entityType: INCIDENT
                        thirdPartyEntityType: Ticket
                        attrValues:
                          - attrValue: Ok
                            thirdPartyAttrValue: good
                          - attrValue: Critical
                            thirdPartyAttrValue: bad
                    baseNotifier:
                      type: REST_API
                      baseURI: www.google.com
                      authType: OAUTH2
                      grantType: PASSWORD
                      userName: testUser
                      password: pk
                      accessTokenURI: www.token.com/cred
                      apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                      apiSecret: asdfgnasinfpaiwerpfawpeojporwjaeprfwpejprwje
              example-inbound-outbound:
                value:
                  inboundConfig:
                    authentication:
                      authType: WEBHOOK
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Max
                          - attrValue: Low
                            thirdPartyAttrValue: min
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Max
                          - attrValue: Low
                            thirdPartyAttrValue: min
                  outboundConfig:
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: stats
                        entityType: INCIDENT
                        thirdPartyEntityType: Ticket
                        attrValues:
                          - attrValue: Ok
                            thirdPartyAttrValue: good
                          - attrValue: Critical
                            thirdPartyAttrValue: bad
                    baseNotifier:
                      type: REST_API
                      baseURI: www.google.com
                      authType: OAUTH2
                      grantType: PASSWORD
                      userName: testUser
                      password: pk
                      accessTokenURL: www.token.com/cred
                      apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                      apiSecret: asdfgnasinfpaiwerpfawpeojporwjaeprfwpejprwje
              example-jwt:
                value:
                  outboundConfig:
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: stats
                        entityType: INCIDENT
                        thirdPartyEntityType: Ticket
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: good
                    baseNotifier:
                      type: REST_API
                      baseURI: 'https://us1-smax.saas.microfocus.com'
                      authType: JWT
                      userName: test
                      password: Test
                      tokenPayload:
                        rest: ''
                      tokenURL: 'https://us1-smax.saas.microfocus.com/auth/authentication-endpoint/authenticate/login'
                      tokenHeaders:
                        - key: Authorization
                          value: Basic Base64EncodedCredentials
                        - key: accept
                          value: application/json
                        - key: Content-Type
                          value: application/json
                      tokensPath:
                        - key: jwtToken
                          value: rest_access.access_key
                      resourceAuthHeaders:
                        - key: accept
                          value: $jwtToken
              example-CASERVICEDESK:
                value:
                  inboundConfig:
                    authentication:
                      authType: WEBHOOK
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: REQUEST
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Maximum
                          - attrValue: Low
                            thirdPartyAttrValue: Minimum
                      - name: Priority
                        thirdPartyAttrName: Severity
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: REQUEST
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Maximum
                          - attrValue: Low
                            thirdPartyAttrValue: Minimum
                  outboundConfig:
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: INCIDENT
                        thirdPartyEntityType: Ticket
                        attrValues:
                          - attrValue: Ok
                            thirdPartyAttrValue: Good
                          - attrValue: Critical
                            thirdPartyAttrValue: Bad
                    baseNotifier:
                      type: REST_API
                      baseURI: www.google.com
                      authType: OAUTH2
                      grantType: PASSWORD
                      userName: testUser
                      password: '*************'
                      accessTokenURI: www.token.com/cred
                      apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                      apiSecret: '***************************'
              example-okta:
                value:
                  singleSignOnAuthentication:
                    issuerUrl: 'https://localhost.com/modify'
                    redirectionUrl: 'https://localhost.com/update'
                    logoutUrl: 'https://localhost.com/change'
                    certificate: MIIDrTCCAxagAwIBAgIBADANBgkqhkiG9w0BAQQFADCBnDEbMBkGA1UEChMSVGhlIFNhbXBsZSBDb21wYW55MRQwEgYDVQQLEwtDQSBEaXZpc2lvbjEcMBoGCSqGSIb3DQEJARYNY2FAc2FtcGxlLmNvbTETMBEGA1UEBxMKTWV0cm9wb2xpczERMA8GA1UECBMITmV3IFlvcmsxCzAJBgNVBAYTAlVTMRQwEgYDVQQDEwtUU0MgUm9vdCBDQTAeFw0wMTEyMDgwNDI3MDVaFw0wMjEyMDgwNDI3MDVaMIGcMRswGQYDVQQKExJUaGUgU2FtcGxlIENvbXBhbnkxFDASBgNVBAsTC0NBIERpdmlzaW9uMRwwGgYJKoZIhvcNAQkBFg1jYUBzYW1wbGUuY29tMRMwEQYDVQQHEwpNZXRyb3BvbGlzMREwDwYDVQQIEwhOZXcgWW9yazELMAkGA1UEBhMCVVMxFDASBgNVBAMTC1RTQyBSb290IENBMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDaiAwfKB6ZBtnTRTIo6ddomt0S9ec0NcuvtJogt0s9dXpHowh98FCDjnLtCi8du6LDTZluhlOtTFARPlV/LVnpsbyMCXMsG2qpdjJop+XIBdvoCz2HpGXjUmym8WLqt+coWwJqUSwiEba74JG93v7TU+Xcvc005MWnxmKZzDR3QIDAQABo4H8MIH5MAwGA1UdEwQFMAMBAf8wHQYDVR0OBBYEFGvyytrBtEquMX2dreysixMlPMMIHJBgNVHSMEgcEwgb6AFGvyytrBtEquMX2dreysixMlPMoYGipIGfMIGcMRswGQYDVQQKExJUaGUgU2FtcGxlIENvbXBhbnkxFDASBgNVBAsTC0NBIERpdmlzaW9uMRwwGgYJKoZIhvcNAQkBFg1jYUBzYW1wbGUuY29tMRMwEQYDVQQHEwpNZXRyb3BvbGlzMREwDwYDVQQIEwhOZXcgWW9yazELMAkGA1UEBhMCVVMxFDASBgNVBAMTC1RTQyBSb290IENBggEAMA0GCSqGSIb3DQEBBAUAA4GBABclymJfsPOUazNQO8aIaxwVbXWS+8AFEkMMRx6O68ICAMubQBvs8Buz3ALXhqYeFS5G13pW2ZnAlSdTkSTKkE5wGZ1RYSfyiEKXb+uOKhDN9LnajDzaMPkNDU2NDXDzSqHk9ZiE1boQaMzjNLu+KabTLpmL9uXvFA/i+gdenFHv
              example-vmware-update:
                value:
                  displayName: VMWARE-Updated_API_VMWARE
                  credential: vmcenter
                  ipAddress: 10.11.01.10
                  discoveryProfiles:
                    - id: 101
                      scanNow: true
                      mgmtProfileUuid: 76a89355-9c0a-443e-a897-8f69e6ca2da2
                      policy:
                        entityType: All
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
        description: ''
    get:
      summary: Get installed integration
      description: Gets installed integration details.
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-1:
                  value:
                    id: INTG-30afec31-9c37-4784-a6de-051997a5715e
                    integration:
                      id: JIRA
                      name: JIRA
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: w6bbEcYKnqggCkzPgBg745YXPKs3DuWb
                      mapAttributes:
                        - name: Status
                          attrName: serviceRequest.status.name
                          thirdPartyAttrName: Status
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: Status
                          entityType: INCIDENT
                          thirdPartyEntityType: TICKET
                          attrValues:
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Priority
                          attrName: incident.priority.name
                          thirdPartyAttrName: severity
                          entityType: INCIDENT
                          thirdPartyEntityType: TICKET
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                        - name: Priority
                          attrName: serviceRequest.priority.name
                          thirdPartyAttrName: severity
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                    outboundConfig:
                      mapAttributes:
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: state
                          entityType: INCIDENT
                          thirdPartyEntityType: ticket
                          attrValues:
                            - attrValue: Closed
                              thirdPartyAttrValue: close
                        - name: Priority
                          attrName: incident.priority.name
                          thirdPartyAttrName: priority
                          entityType: INCIDENT
                          thirdPartyEntityType: ticket
                          attrValues:
                            - attrValue: Very Low
                              thirdPartyAttrValue: low
                example-okta:
                  value:
                    id: INTG-d13fcb67-d8a9-4283-9bd1-e9fb162e219c
                    integration:
                      id: OKTA
                      name: Okta
                    singleSignOnAuthentication:
                      type: Okta
                      issuerUrl: 'https://localhost.com'
                      redirectionUrl: 'https://localhost.com'
                      logoutUrl: 'https://localhost.com'
                example-other:
                  value:
                    id: INTG-4d3042af-af4e-4fa0-9629-b23ab6d745da
                    displayName: testIntg
                    integration:
                      id: OTHER
                      name: Other
                    singleSignOnAuthentication:
                      type: Other
                      issuerUrl: 'https://localhost.com'
                      redirectionUrl: 'https://localhost.com'
                      logoutUrl: 'https://localhost.com'
    delete:
      summary: Uninstall integration
      description: Uninstalls an installed integration.
      tags:
        - integrations
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                uninstallReason:
                  type: string
                  description: |
                    The reason for uninstalling the integration.
              required:
                - uninstallReason
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2/tenants/{tenantId}/integrations/available/{installedIntgId}/mappingAttr/{entityType}':
    summary: Get integration mappable properties
    description: Gets the integration mappable properties for an entity.
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        description:
                          type: string
                        mapable:
                          type: boolean
                        valueMapable:
                          type: boolean
                  totalResults:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  descendingOrder:
                    type: boolean
                  pageNo:
                    type: integer
              examples:
                example-collaboration:
                  value:
                    results:
                      - name: Assignee group name
                        description: Assignee Group name of the Incident
                        mapable: true
                        valueMapable: true
                      - name: Descritpion
                        description: Description of the incident
                        mapable: true
                        valueMapable: false
                      - name: Latest comment description
                        description: Latest comment description
                        mapable: true
                        valueMapable: false
                      - name: TicketResponseId
                        description: Ticket response external id
                        mapable: true
                        valueMapable: false
                      - name: Latest comment visible to customer
                        description: Latest reponse
                        mapable: true
                        valueMapable: true
                      - name: Priority
                        value: 'Very Low,Low,Normal,High,Urgent'
                        description: Priority of the incident
                        mapable: true
                        valueMapable: true
                      - name: Status
                        value: 'Closed,New,On Hold,Open,Pending,Resolved'
                        description: Status of the incident
                        mapable: true
                        valueMapable: true
                      - name: Subject
                        description: Subject of the incident
                        mapable: true
                        valueMapable: false
                    totalResults: 8
                    pageNo: 1
                    pageSize: 10
                    totalPages: 1
                    nextPage: false
                    descendingOrder: false
                example-monitoring:
                  value:
                    results:
                      - name: Alert time
                        description: Alert Time
                        mapable: true
                        valueMapable: false
                      - name: Alert state
                        description: Current state of the alert
                        mapable: true
                        valueMapable: true
                      - name: Alert description
                        description: Alert Description
                        mapable: true
                        valueMapable: false
                      - name: Alert Name
                        description: Alert Name
                        mapable: true
                        valueMapable: false
                      - name: External alert ID
                        description: Alert ID of external source
                        mapable: true
                        valueMapable: false
                    totalResults: 8
                    pageNo: 1
                    pageSize: 5
                    totalPages: 2
                    nextPage: true
                    nextPageNo: 2
                    descendingOrder: false
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
      - $ref: '#/components/parameters/entityType'
  '/api/v2/tenants/{tenantId}/integrations/available/search':
    summary: Search available integrations
    description: Searches available integrations.
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                  totalResults:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  descendingOrder:
                    type: boolean
                  pageNo:
                    type: integer
              examples:
                example-1:
                  value:
                    results:
                      - id: ALERTLOGIC
                        name: Alert Logic
                      - id: DELLCOMPELLENT
                        name: Dell Compellent
                      - id: Email Alerts
                        name: Email Alerts
                      - id: GRAPHITE
                        name: Graphite
                      - id: NAGIOS
                        name: Nagios
                      - id: NEUSTAR
                        name: Neustar
                      - id: NEWRELIC_LEGACY
                        name: NewRelic_Legacy
                      - id: NIMSOFT
                        name: Nimsoft
                      - id: OPSMANAGER
                        name: OpsManager
                      - id: CUSTOM
                        name: Custom
                    totalResults: 14
                    pageNo: 1
                    pageSize: 10
                    totalPages: 2
                    nextPage: true
                    nextPageNo: 2
                    previousPageNo: 0
                    descendingOrder: false
      parameters:
        - schema:
            type: integer
            default: 1
          in: query
          name: pageNo
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
        - schema:
            type: boolean
            default: false
          in: query
          name: isDescendingOrder
        - schema:
            type: string
            default: name
          in: query
          name: sortName
        - schema:
            type: string
          in: query
          name: queryString
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/installed/search':
    summary: Search installed integrations
    description: |
      Searches for installed integrations.

      >##### Notes
      >There are special characters that can be used in a query string:
      >- (+) represents the next field and must be URL-encoded.
      >- (:) represents equals. An example is key : value.
      >- Space characters must be URL-encoded.
    get:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/integrationInstall'
                  totalResults:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  descendingOrder:
                    type: boolean
                  pageNo:
                    type: integer
              examples:
                example-custom:
                  value:
                    results:
                      - id: INTG-10eb3495-d68e-d6d7-d177-0bfacf58d061
                        integration:
                          id: RESTAPI
                          name: Custom
                        inboundConfig:
                          authentication:
                            authType: ALL
                        outboundConfig:
                          baseNotifier:
                            baseURI: sp-config.in
                            authType: BASIC
                            userName: '1234'
                      - id: INTG-15cd3139-00e3-4dbd-8aee-327e3d10e23e
                        integration:
                          id: RESTAPI
                          name: Custom
                        inboundConfig:
                          authentication:
                            authType: WEBHOOK
                            token: bp78MehsKbdBgqezZXa2FKJvvXZPnMcC
                          mapAttributes:
                            - name: Status
                              attrName: incident.status.name
                              thirdPartyAttrName: tren
                              entityType: INCIDENT
                              thirdPartyEntityType: tree
                              attrValues:
                                - attrValue: New
                                  thirdPartyAttrValue: new
                        outboundConfig:
                          baseNotifier:
                            baseURI: sp-config.in
                            authType: BASIC
                            userName: '1234'
                    totalResults: 2
                    pageNo: 1
                    pageSize: 5
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
                example-istm:
                  value:
                    results:
                      - id: INTG-30afec31-9c37-4784-a6de-051997a5715e
                        integration:
                          id: JIRA
                          name: JIRA
                        inboundConfig:
                          authentication:
                            authType: WEBHOOK
                            token: w6bbEcYKnqggCkzPgBg745YXPKs3DuWb
                          mapAttributes:
                            - name: Status
                              attrName: serviceRequest.status.name
                              thirdPartyAttrName: Status
                              entityType: SERVICEREQUEST
                              thirdPartyEntityType: SRQ
                              attrValues:
                                - attrValue: Open
                                  thirdPartyAttrValue: In Progress
                                - attrValue: Closed
                                  thirdPartyAttrValue: Completed
                                - attrValue: Open
                                  thirdPartyAttrValue: In Progress
                                - attrValue: Closed
                                  thirdPartyAttrValue: Completed
                            - name: Status
                              attrName: incident.status.name
                              thirdPartyAttrName: Status
                              entityType: INCIDENT
                              thirdPartyEntityType: TICKET
                              attrValues:
                                - attrValue: Open
                                  thirdPartyAttrValue: In Progress
                                - attrValue: Closed
                                  thirdPartyAttrValue: Completed
                                - attrValue: Open
                                  thirdPartyAttrValue: In Progress
                                - attrValue: Closed
                                  thirdPartyAttrValue: Completed
                            - name: Priority
                              attrName: incident.priority.name
                              thirdPartyAttrName: severity
                              entityType: INCIDENT
                              thirdPartyEntityType: TICKET
                              attrValues:
                                - attrValue: High
                                  thirdPartyAttrValue: Max
                                - attrValue: Low
                                  thirdPartyAttrValue: min
                                - attrValue: High
                                  thirdPartyAttrValue: Max
                                - attrValue: Low
                                  thirdPartyAttrValue: min
                            - name: Priority
                              attrName: serviceRequest.priority.name
                              thirdPartyAttrName: severity
                              entityType: SERVICEREQUEST
                              thirdPartyEntityType: SRQ
                              attrValues:
                                - attrValue: High
                                  thirdPartyAttrValue: Max
                                - attrValue: Low
                                  thirdPartyAttrValue: min
                                - attrValue: High
                                  thirdPartyAttrValue: Max
                                - attrValue: Low
                                  thirdPartyAttrValue: min
                        outboundConfig:
                          mapAttributes:
                            - name: Status
                              attrName: incident.status.name
                              thirdPartyAttrName: state
                              entityType: INCIDENT
                              thirdPartyEntityType: ticket
                              attrValues:
                                - attrValue: Closed
                                  thirdPartyAttrValue: close
                            - name: Priority
                              attrName: incident.priority.name
                              thirdPartyAttrName: priority
                              entityType: INCIDENT
                              thirdPartyEntityType: ticket
                              attrValues:
                                - attrValue: Very Low
                                  thirdPartyAttrValue: low
                      - id: INTG-91d0160f-ddd9-7b54-ecd3-581356e2d8de
                        integration:
                          id: EMAILINCIDENTS
                          name: Email Requests
                        outboundConfig: {}
                      - id: INTG-ca260626-8352-7c1f-52a5-71d425439e75
                        integration:
                          id: SLACK
                          name: Slack
                        inboundConfig:
                          authentication:
                            authType: ALL
                          mapAttributes:
                            - name: Status
                              attrName: incident.status.name
                              thirdPartyAttrName: testin
                              entityType: INCIDENT
                              thirdPartyEntityType: test
                              attrValues:
                                - attrValue: low
                                  thirdPartyAttrValue: verylow
                        outboundConfig: {}
                    totalResults: 3
                    pageNo: 1
                    pageSize: 5
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
      parameters:
        - schema:
            type: integer
            default: 1
          in: query
          name: pageNo
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
        - schema:
            type: boolean
            default: false
          in: query
          name: isDescendingOrder
        - schema:
            type: string
            default: name
          in: query
          name: sortName
        - schema:
            type: string
          in: query
          name: queryString
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/install/EMAILINCIDENTS':
    summary: Install email request integration
    description: |
      Installs an email request integration.

      Email request integration creates tickets in OpsRamp via email.

      Convert image to Base64 and enter the code in file field as shown in the following sample request.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-EMAILINCIDENTS:
                  value:
                    id: INTG-02d467ee-41f2-4d1e-9c55-e8365b421f21
                    displayName: email incidents test
                    integration:
                      id: EMAILINCIDENTS
                      name: Email Requests
                    emailAddress: alerts@5JHqWy4h34xXDwN2gYFtmaYx.opsramp.com
                    emailProps:
                      - properties:
                          - name: Allow anonymous user
                            value: 'true'
                          - name: Subject
                            value: Email Subject
                          - name: Description
                            value: Email Description
                          - name: Priority
                            defaultValue: Low
                            condition:
                              contentSource: EMAIL_CONTENT
                              operator: BETWEEN
                              startValue: value1
                              endValue: value2
                            propertyMappings:
                              name: Priority
                              attrName: incident.priority.name
                              entityType: INCIDENT
                              attrValues:
                                - attrValue: Low
                                  thirdPartyAttrValue: myval
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-EMAILINCIDENTS:
                value:
                  displayName: email request test
                  ticketType: INCIDENT
                  logo:
                    name: test.png
                    file: zWc/aG7Ws5nifQL0cHF6fxW8vRwcXp/Ffyky7HaICAgIXNbBkr5hzWwZK+YY9FmJ/FLppwpn45SvJ2S4oBaNgBAQEBAQEBAQEBAQEBAQEBAQf//Z
                  emailProps:
                    - properties:
                        - name: Priority
                          defaultValue: Low
                          condition:
                            contentSource: EMAIL_CONTENT
                            operator: BETWEEN
                            startValue: value1
                            endValue: value2
                          propertyMappings:
                            attrValues:
                              - attrValue: Low
                                thirdPartyAttrValue: myval
                        - name: Subject
                          value: Email Subject
                        - name: Description
                          value: Email Description
                        - name: Allow anonymous user
                          value: 'true'
        description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/install/EMAILALERTS':
    summary: Install email alert integration
    description: |-
      Installs email alert integrations. OpsRamp processes all incoming Alert emails.

      Apply user-defined rules to create, acknowledge, and close alerts incoming emails.

      Convert image to Base64 and enter the code in file field as shown in the following sample request.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-EMAILALERTS:
                  value:
                    id: INTG-d9b99937-7906-42c7-955c-68a237144ac7
                    displayName: email alerts test from api try 44
                    inboundConfig:
                      dropAlerts: true
                    integration:
                      id: Email Alerts
                      name: Email Alerts
                    emailAddress: alerts@5JHqWy4h34xXDwN2gYFtmaYx.opsramp.com
                    emailProps:
                      - name: test set 1
                        identifier: .
                        identifierSource: EMAIL_CONTENT
                        properties:
                          - name: Alert State
                            defaultValue: OK
                            condition:
                              contentSource: EMAIL_CONTENT
                              operator: BETWEEN
                              startValue: value1
                              endValue: value2
                          - name: Service Name
                            condition:
                              contentSource: EMAIL_CONTENT
                              operator: BETWEEN
                              startValue: value1
                              endValue: value2
                          - name: Device Host Name
                            condition:
                              contentSource: EMAIL_CONTENT
                              operator: BETWEEN
                              startValue: value1
                              endValue: value2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-EMAILALERTS:
                value:
                  displayName: Email Alerts Integration
                  logo:
                    name: logo.png
                    file: 'zWc/aG7Ws5nifQL0cHF6fxW8vRwcXp/Ffyky7HaICAgIXNbBkr5hzWwZK+YY9FmJ/FLppwpn45SvJ2S4oBaNgBAQEBAQEBAQEBAQEBAQEBAQf//Z '
                  inboundConfig:
                    dropAlerts: true
                  emailProps:
                    - name: test set 1
                      identifier: identify
                      identifierSource: EMAIL_CONTENT
                      properties:
                        - name: Alert State
                          defaultValue: OK
                          condition:
                            contentSource: EMAIL_CONTENT
                            operator: BETWEEN
                            startValue: value1
                            endValue: value2
                        - name: Service Name
                          condition:
                            contentSource: EMAIL_CONTENT
                            operator: BETWEEN
                            startValue: value1
                            endValue: value2
                        - name: Device Host Name
                          condition:
                            contentSource: EMAIL_CONTENT
                            operator: BETWEEN
                            startValue: value1
                            endValue: value2
        description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/install/AWS':
    summary: Install AWS integrations
    description: |-
      These endpoint IDs are used to install third-party integrations.

      The following cloud integrations are supported:
      - AWS
      - AZURE
      - GOOGLE
      - KUBERNETES

      These are not supported for deployment, email requests, and other category integrations.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-aws-type-iam:
                  value:
                    id: INTG-b898d6b4-cbf6-4863-a050-3ce5f3658a85
                    integration:
                      id: AWS
                      name: AWS
                    credential:
                      Name: AWS AWS Integration
                      AccountNumber: '326542154381'
                      AWSType: IAM
                      Regions: All
                example-aws-type-iam-assume-role:
                  value:
                    id: INTG-c128dcb9-a9b2-40de-af8e-2a07c3b81d57
                    integration:
                      id: AWS
                      name: AWS
                    credential:
                      Name: AWS AWS Integration
                      AccountNumber: '326542154381'
                      AWSType: IAM
                      Regions: us-east-1
                example-kubernetes:
                  value:
                    id: INTG-57b22278-b75f-4e9b-8877-39131a69f9e6
                    displayName: Kube-Intg
                    integration:
                      id: KUBERNETES
                      name: Kubernetes
                      multipleInstallations: true
                    deployment: onPrem
                    configFiles:
                      - id: 0
                        name: Kubernetes.yaml
                        contentURL: 'https://myintegrations.api.try.opsramp.com/api/v2/tenants/client_26813/integrations/installed/INTG-57b22278-b75f-4e9b-8877-39131a69f9e6/configFile/Kubernetes'
                      - id: 0
                        name: statsDMonitoringKubernetes.yaml
                        contentURL: 'https://myintegrations.api.try.opsramp.com/api/v2/tenants/client_26813/integrations/installed/INTG-57b22278-b75f-4e9b-8877-39131a69f9e6/configFile/statsDMonitoringKubernetes'
                    installedBy: opsramp_api_user
                    installedTime: '2021-04-21T09:11:43+0100'
                    containerEngineType: Docker
                    status: enabled
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-aws-type-iam:
                value:
                  displayName: AWS
                  credential:
                    credentialType: AWS
                    AWSType: IAM
                    Regions: All
                    AccountNumber: '**********'
                    AccessKey: '*************'
                    SecurityKey: '*************'
              example-aws-type-iam-assume-role:
                value:
                  displayName: AWS
                  credential:
                    credentialType: AWS
                    AWSType: IAM with AssumeRole
                    Regions: us-east-1
                    AccountNumber: '*********'
                    AccessKey: '************'
                    SecurityKey: '***********'
                    AssumeRoleARN: '*********************'
                    ExternalId: '**********************'
              example-kubernetes:
                value:
                  displayName: Kube-Intg
                  deployment: onPrem
                  containerEngineType: Docker
        description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/install/AZURE':
    summary: Install Azure integration
    description: |-
      These endpoint IDs are used to install third-party integrations.

      The following cloud integrations are supported:
        - AWS
        - AZURE
        - GOOGLE

      These are not supported for deployment, email requests, and other category integrations.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-azure-type-arm:
                  value:
                    id: INTG-2e2854c6-8543-4a3c-be29-3ccc20542375
                    integration:
                      id: AZURE
                      name: Azure
                    credential:
                      Name: AZURE Azure Integration
                      SubscriptionId: '***********'
                      AzureType: ARM
                      TenantId: '************'
                      ClientID: '************'
                example-azure-type-asm:
                  value:
                    id: INTG-845ds218-9978-4a45-ac48-4b118d560514
                    integration:
                      id: AZURE
                      name: Azure
                    credential:
                      Name: Azure AZURE Integration
                      SubscriptionId: '************'
                      AzureType: ASM
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-azure-type-arm:
                value:
                  displayName: AZURE
                  credential:
                    credentialType: AZURE
                    SubscriptionId: '*************'
                    AzureType: ARM
                    TenantId: '**********'
                    ClientID: '**********'
                    SecretKey: '*********'
              example-azure-type-asm:
                value:
                  displayName: AZURE
                  credential:
                    credentialType: AZURE
                    SubscriptionId: '*************'
                    AzureType: ASM
                    ManagementCertificate: '**********'
                    KeystorePassword: '**********'
        description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/install/GOOGLE':
    summary: Install Google integration
    description: |-
      These endpoint IDs are used to install third-party integrations.

      The following cloud integrations are supported:
        - AWS
        - AZURE
        - GOOGLE

      These are not supported for deployment, email requests, and other category integrations.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-google:
                  value:
                    id: INTG-948776fe-7f27-4ba0-86d3-28dcc2a30297
                    integration:
                      id: GOOGLE
                      name: Google
                    credential:
                      Name: Google GOOGLE Integration
                      ProjectId: '********************'
                      ServiceAccountEmail: '********************************'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-google:
                value:
                  displayName: Google
                  credential:
                    credentialType: GOOGLE
                    ServiceAccountEmail: '*****************'
                    ProjectId: '**********'
                    ServiceAccountManagementCertificate: '*********'
                    ManagementCertificatePassPhrase: '*********'
        description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/install/VMWARE':
    summary: Install VMWARE integration
    description: |-
      These endpoint IDs are used to install compute integrations
      - Pre-requistes:
        - User needs to use the set credentials for the VMware infra. To set credentials https://docs.opsramp.com/api/tenancy-access-controls/tenants-tenantid-credentialsets/
        - User needs gateway profile ids, which can be known using search endpoint at https://docs.opsramp.com/api/agents-gateways/tenants-tenantid-managementprofiles-search/
        - Supported values are not case-sensitive. 'All' & 'all' both are valid.
        - For "schedule" attributes in payload refer https://docs.opsramp.com/api/integrations/tenants-tenantid-policies-discovery-search/

      The following compute integrations are supported:
        - VMWARE
      These are only for private cloud discovery configurations
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-vmware-credentialSet:
                  value:
                    id: INTG-2e2854c6-8543-4a3c-be29-3ccc20542375
                    displayName: API_VMWARE
                    integration:
                      id: VMWARE
                      name: VMware
                      multipleInstallations: true
                    credential:
                      Name: vcenter
                      autoMonitorable: false
                      id: 326
                      description: current credentials
                      port: 443
                      secure: true
                    installedBy: Dev
                    installedTime: '2021-02-19T12:40:07+0530'
                    discoveryProfiles:
                      - scanNow: true
                        schedule:
                          patternType: MONTHLY
                          pattern: 'FIRST,SUNDAY'
                          startTime: 18
                        mgmtProfileUuid: 76a89355-9c0a-443e-a897-8f69e6ca2da1
                        policy:
                          entityType: ALL
                          matchType: ANY
                          rules:
                            - filterType: ANY_CLOUD_RESOURCE
                          actions:
                            - action: MANAGE DEVICE
                example-vmware-credentials:
                  value:
                    id: INTG-2e2854c6-8543-4a3c-be29-3ccc20542375
                    displayName: API_VMWARE
                    integration:
                      id: VMWARE
                      name: VMware
                      multipleInstallations: true
                    credential:
                      Name: vcenter
                      autoMonitorable: false
                      id: 326
                      description: current credentials
                      port: 443
                      secure: true
                    installedBy: Dev
                    installedTime: '2021-01-19T12:40:07+0530'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-vmware-credentialSet:
                value:
                  displayName: API_VMWARE
                  credential: vcenter
                  ipAddress: 10.10.01.10
                  discoveryProfiles:
                    - scanNow: true
                      schedule:
                        patternType: MONTHLY
                        pattern: 'FIRST,SUNDAY'
                        startTime: 18
                      mgmtProfileUuid: 76a89355-9c0a-443e-a897-8f69e6ca2da1
                      policy:
                        entityType: ALL
                        matchType: ANY
                        rules:
                          - filterType: ANY_CLOUD_RESOURCE
                        actions:
                          - action: MANAGE DEVICE
              example-vmware-install-only:
                value:
                  displayName: API_VMWARE
                  credential: vcenter
                  ipAddress: 10.10.01.10
      summary: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/install/{installedIntgId}':
    summary: Install integrations
    description: |-
      Installs the following integrations:

      - cloud
      - monitoring
      - collaboration

      To install the integration, provide the integration ID in {installedIntgId}.'
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/integrationInstall'
              examples:
                example-pingdom:
                  value:
                    id: INTG-74640545-0895-4924-9261-250ce5ce7ad5
                    integration:
                      id: PINGDOM
                      name: Pingdom
                example-display-name-and-logo:
                  value:
                    id: INTG-b95d0d73-e904-4059-915c-7380396af61c
                    displayName: Test Integration
                    integration:
                      id: CUSTOM
                      name: Custom
                example-parent-inheritance:
                  value:
                    id: INTG-d4c2a1b3-0520-4e24-809f-b1a2857b88ac
                    displayName: Logix Integration
                    integration:
                      id: CUSTOM
                      name: Custom
                example-CASERVICEDESK-authentication:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: YTxSGJdfkkfE3m7WaE8jYkwmsYjNU3VU
                example-CASERVICEDESK-inbound:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: YTxSGJdfkkfE3m7WaE8jYkwmsYjNU3VU
                      mapAttributes:
                        - name: Status
                          attrName: serviceRequest.status.name
                          thirdPartyAttrName: Status
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Priority
                          attrName: incident.priority.name
                          thirdPartyAttrName: severity
                          entityType: INCIDENT
                          thirdPartyEntityType: TICKET
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                        - name: Priority
                          attrName: serviceRequest.priority.name
                          thirdPartyAttrName: severity
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                example-CASERVICEDESK-outbound:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    outboundConfig:
                      baseNotifier:
                        baseURI: www.google.com
                        authType: OAUTH2
                        grantType: PASSWORD
                        userName: testUser
                        apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                        accessTokenURL: www.token.com/cred
                      mapAttributes:
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                example-CASERVICEDESK-inbound-outbound:
                  value:
                    id: INTG-9c584c86-4ba9-4006-9ee2-c41a07b7c761
                    integration:
                      id: CASERVICEDESK
                      name: Service Desk
                    inboundConfig:
                      authentication:
                        authType: WEBHOOK
                        token: YTxSGJdfkkfE3m7WaE8jYkwmsYjNU3VU
                      mapAttributes:
                        - name: Status
                          attrName: serviceRequest.status.name
                          thirdPartyAttrName: Status
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                            - attrValue: Open
                              thirdPartyAttrValue: In Progress
                            - attrValue: Closed
                              thirdPartyAttrValue: Completed
                        - name: Priority
                          attrName: incident.priority.name
                          thirdPartyAttrName: severity
                          entityType: INCIDENT
                          thirdPartyEntityType: TICKET
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                        - name: Priority
                          attrName: serviceRequest.priority.name
                          thirdPartyAttrName: severity
                          entityType: SERVICEREQUEST
                          thirdPartyEntityType: SRQ
                          attrValues:
                            - attrValue: High
                              thirdPartyAttrValue: Max
                            - attrValue: Low
                              thirdPartyAttrValue: min
                    outboundConfig:
                      baseNotifier:
                        baseURI: www.google.com
                        authType: OAUTH2
                        grantType: PASSWORD
                        userName: testUser
                        apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                        accessTokenURL: www.token.com/cred
                      mapAttributes:
                        - name: Status
                          attrName: incident.status.name
                          thirdPartyAttrName: stats
                          entityType: INCIDENT
                          thirdPartyEntityType: Ticket
                          attrValues:
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
                            - attrValue: Ok
                              thirdPartyAttrValue: good
                            - attrValue: Critical
                              thirdPartyAttrValue: bad
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-display-name-and-logo:
                value:
                  displayName: Test Integration
                  logo:
                    name: test.png
                    file: /9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUSExMVFhUVGBcXFhcYGBgaFxgVFRUYFxcYFRcYHSggHh8lGxsXIjEiJSkrLi4wFx8zODMtOCgtLisBCgoKDg0OGxAQGy0lICYtLS0tLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAHABwwMBEQACEQEDEQH/xAAcAAEAAgIDAQAAAAAp8j1D+zC/vI1R5usr1w5LeIXrhyW8RLd0GZTzYzPDR9FmJ/EcB5FdNOFM/FLppwpn45SvJ2S4oBaNgF9p2uPeSu3HirSPww7seKuOPwwzFo0EBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQf//Z
              example-parent-inheritance:
                value:
                  displayName: Logix Integration
                  parentIntg:
                    id: INTG-f3e44188-83d9-4efc-82d1-68b07b740f0b
              example-CASERVICEDESK-authentication:
                value:
                  inboundConfig:
                    authentication:
                      authType: WEBHOOK
              example-CASERVICEDESK-inbound:
                value:
                  inboundConfig:
                    authentication:
                      authType: WEBHOOK
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Max
                          - attrValue: Low
                            thirdPartyAttrValue: min
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Max
                          - attrValue: Low
                            thirdPartyAttrValue: min
              example-CASERVICEDESK-outbound:
                value:
                  outboundConfig:
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: stats
                        entityType: INCIDENT
                        thirdPartyEntityType: Ticket
                        attrValues:
                          - attrValue: Ok
                            thirdPartyAttrValue: good
                          - attrValue: Critical
                            thirdPartyAttrValue: bad
                    baseNotifier:
                      type: REST_API
                      baseURI: www.google.com
                      authType: OAUTH2
                      grantType: PASSWORD
                      userName: testUser
                      password: pk
                      accessTokenURI: www.token.com/cred
                      apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                      apiSecret: asdfgnasinfpaiwerpfawpeojporwjaeprfwpejprwje
              example-CASERVICEDESK-inbound-outbound:
                value:
                  inboundConfig:
                    authentication:
                      authType: WEBHOOK
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Status
                        thirdPartyAttrName: Status
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: Open
                            thirdPartyAttrValue: In Progress
                          - attrValue: Closed
                            thirdPartyAttrValue: Completed
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: INCIDENT
                        thirdPartyEntityType: TICKET
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Max
                          - attrValue: Low
                            thirdPartyAttrValue: min
                      - name: Priority
                        thirdPartyAttrName: severity
                        entityType: SERVICEREQUEST
                        thirdPartyEntityType: SRQ
                        attrValues:
                          - attrValue: High
                            thirdPartyAttrValue: Max
                          - attrValue: Low
                            thirdPartyAttrValue: min
                  outboundConfig:
                    mapAttributes:
                      - name: Status
                        thirdPartyAttrName: stats
                        entityType: INCIDENT
                        thirdPartyEntityType: Ticket
                        attrValues:
                          - attrValue: Ok
                            thirdPartyAttrValue: good
                          - attrValue: Critical
                            thirdPartyAttrValue: bad
                    baseNotifier:
                      type: REST_API
                      baseURI: www.google.com
                      authType: OAUTH2
                      grantType: PASSWORD
                      userName: testUser
                      password: pk
                      accessTokenURL: www.token.com/cred
                      apiKey: 6h67PAAFscVPMwhQZFcshpcqN5b6pyU9
                      apiSecret: asdfgnasinfpaiwerpfawpeojporwjaeprfwpejprwje
        description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/installedIntgId'
  '/api/v2/tenants/{tenantId}/integrations/install/OKTA':
    summary: Install SSO integration
    description: Installs a SSO integration.
    post:
      tags:
        - integrations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  integration:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      multipleInstallations:
                        type: boolean
                  ssoInstalled:
                    $ref: '#/components/schemas/ssoIntg'
                  singleSignOnAuthentication:
                    $ref: '#/components/schemas/ssoAuth'
              examples:
                example-okta:
                  value:
                    id: INTG-70ba0f52-cef2-45a6-b46c-526c80afa85c
                    integration:
                      id: OKTA
                      name: Okta
                    ssoInstalled:
                      installedBy: opsramp_api_user
                      installedTime: '2020-10-08T08:13:55+0100'
                      status: enabled
                    singleSignOnAuthentication:
                      type: Okta
                      issuerUrl: 'https://localhost.com'
                      redirectionUrl: 'https://localhost.com'
                      logoutUrl: 'https://localhost.com'
                example-other:
                  value:
                    id: INTG-4d3042af-af4e-4fa0-9629-b23ab6d745da
                    integration:
                      id: CUSTOM
                      name: custom
                      multipleInstallations: true
                    ssoInstalled:
                      displayName: testSSOIntg
                      category: SSO
                      installedBy: opsramp_api_user
                      installedTime: '2020-10-08T08:13:55+0100'
                      status: enabled
                    singleSignOnAuthentication:
                      type: Other
                      issuerUrl: 'https://localhost.com'
                      redirectionUrl: 'https://localhost.com'
                      logoutUrl: 'https://localhost.com'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                displayName:
                  type: string
                category:
                  type: string
                singleSignOnAuthentication:
                  $ref: '#/components/schemas/ssoAuth'
                uninstallReason:
                  type: string
            examples:
              example-okta:
                value:
                  singleSignOnAuthentication:
                    type: Okta
                    issuerUrl: 'https://localhost.com'
                    redirectionUrl: 'https://localhost.com'
                    logoutUrl: 'https://localhost.com'
                    certificate: MIIDrTCCAxagAwIBAgIBADANBgkqhkiG9w0BAQQFADCBnDEbMBkGA1UEChMSVGhlIFNhbXBsZSBDb21wYW55MRQwEgYDVQQLEwtDQSBEaXZpc2lvbjEcMBoGCSqGSIb3DQEJARYNY2FAc2FtcGxlLmNvbTETMBEGA1UEBxMKTWV0cm9wb2xpczERMA8GA1UECBMITmV3IFlvcmsxCzAJBgNVBAYTAlVTMRQwEgYDVQQDEwtUU0MgUm9vdCBDQTAeFw0wMTEyMDgwNDI3MDVaFw0wMjEyMDgwNDI3MDVaMIGcMRswGQYDVQQKExJUaGUgU2FtcGxlIENvbXBhbnkxFDASBgNVBAsTC0NBIERpdmlzaW9uMRwwGgYJKoZIhvcNAQkBFg1jYUBzYW1wbGUuY29tMRMwEQYDVQQHEwpNZXRyb3BvbGlzMREwDwYDVQQIEwhOZXcgWW9yazELMAkGA1UEBhMCVVMxFDASBgNVBAMTC1RTQyBSb290IENBMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDaiAwfKB6ZBtnTRTIo6ddomt0S9ec0NcuvtJogt0s9dXpHowh98FCDjnLtCi8du6LDTZluhlOtTFARPlV/LVnpsbyMCXMsG2qpdjJop+XIBdvoCz2HpGXjUmym8WLqt+coWwJqUSwiEba74JG93v7TU+Xcvc005MWnxmKZzDR3QIDAQABo4H8MIH5MAwGA1UdEwQFMAMBAf8wHQYDVR0OBBYEFGvyytrBtEquMX2dreysixMlPMMIHJBgNVHSMEgcEwgb6AFGvyytrBtEquMX2dreysixMlPMoYGipIGfMIGcMRswGQYDVQQKExJUaGUgU2FtcGxlIENvbXBhbnkxFDASBgNVBAsTC0NBIERpdmlzaW9uMRwwGgYJKoZIhvcNAQkBFg1jYUBzYW1wbGUuY29tMRMwEQYDVQQHEwpNZXRyb3BvbGlzMREwDwYDVQQIEwhOZXcgWW9yazELMAkGA1UEBhMCVVMxFDASBgNVBAMTC1RTQyBSb290IENBggEAMA0GCSqGSIb3DQEBBAUAA4GBABclymJfsPOUazNQO8aIaxwVbXWS+8AFEkMMRx6O68ICAMubQBvs8Buz3ALXhqYeFS5G13pW2ZnAlSdTkSTKkE5wGZ1RYSfyiEKXb+uOKhDN9LnajDzaMPkNDU2NDXDzSqHk9ZiE1boQaMzjNLu+KabTLpmL9uXvFA/i+gdenFHv
              example-other:
                value:
                  displayName: testSSOIntg
                  category: SSO
                  singleSignOnAuthentication:
                    type: CUSTOM
                    issuerUrl: 'https://localhost.com'
                    redirectionUrl: 'https://localhost.com'
                    logoutUrl: 'https://localhost.com'
                    certificate: MIIDrTCCAxagAwIBAgIBADANBgkqhkiG9w0BAQQFADCBnDEbMBkGA1UEChMSVGhlIFNhbXBsZSBDb21wYW55MRQwEgYDVQQLEwtDQSBEaXZpc2lvbjEcMBoGCSqGSIb3DQEJARYNY2FAc2FtcGxlLmNvbTETMBEGA1UEBxMKTWV0cm9wb2xpczERMA8GA1UECBMITmV3IFlvcmsxCzAJBgNVBAYTAlVTMRQwEgYDVQQDEwtUU0MgUm9vdCBDQTAeFw0wMTEyMDgwNDI3MDVaFw0wMjEyMDgwNDI3MDVaMIGcMRswGQYDVQQKExJUaGUgU2FtcGxlIENvbXBhbnkxFDASBgNVBAsTC0NBIERpdmlzaW9uMRwwGgYJKoZIhvcNAQkBFg1jYUBzYW1wbGUuY29tMRMwEQYDVQQHEwpNZXRyb3BvbGlzMREwDwYDVQQIEwhOZXcgWW9yazELMAkGA1UEBhMCVVMxFDASBgNVBAMTC1RTQyBSb290IENBMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDaiAwfKB6ZBtnTRTIo6ddomt0S9ec0NcuvtJogt0s9dXpHowh98FCDjnLtCi8du6LDTZluhlOtTFARPlV/LVnpsbyMCXMsG2qpdjJop+XIBdvoCz2HpGXjUmym8WLqt+coWwJqUSwiEba74JG93v7TU+Xcvc005MWnxmKZzDR3QIDAQABo4H8MIH5MAwGA1UdEwQFMAMBAf8wHQYDVR0OBBYEFGvyytrBtEquMX2dreysixMlPMMIHJBgNVHSMEgcEwgb6AFGvyytrBtEquMX2dreysixMlPMoYGipIGfMIGcMRswGQYDVQQKExJUaGUgU2FtcGxlIENvbXBhbnkxFDASBgNVBAsTC0NBIERpdmlzaW9uMRwwGgYJKoZIhvcNAQkBFg1jYUBzYW1wbGUuY29tMRMwEQYDVQQHEwpNZXRyb3BvbGlzMREwDwYDVQQIEwhOZXcgWW9yazELMAkGA1UEBhMCVVMxFDASBgNVBAMTC1RTQyBSb290IENBggEAMA0GCSqGSIb3DQEBBAUAA4GBABclymJfsPOUazNQO8aIaxwVbXWS+8AFEkMMRx6O68ICAMubQBvs8Buz3ALXhqYeFS5G13pW2ZnAlSdTkSTKkE5wGZ1RYSfyiEKXb+uOKhDN9LnajDzaMPkNDU2NDXDzSqHk9ZiE1boQaMzjNLu+KabTLpmL9uXvFA/i+gdenFHv
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/integrations/installed/{intgId}/template/{actions}':
    summary: Integrations monitoring template assignments.
    description: |-
      Integration monitoring template assign/unassign.
      Any errors occuring on the installed integrations can be monitored by assigning appropirate templates
      ###### Notes
      - Template uuid in the request payload can be obtained by search template endpoint
      - User needs to create the required template based on required parameters
    parameters:
      - schema:
          type: string
        name: intgId
        in: path
        required: true
        description: Uuid of the installed integration
      - schema:
          type: string
          enum:
            - unassign
            - assign
          default: assign
        name: actions
        in: path
        required: true
        description: 'Supported template actions { assign| unassign}'
      - schema:
          type: string
        name: tenantId
        in: path
        required: true
        description: Describes the clientId of the tenant
    post:
      summary: Integration monitoring template assign/unassign
      operationId: post-api-v2-tenants-clientid-integrations-intgId-template-actions
      responses:
        '200':
          description: OK
      description: Assign or Unassigns a given integration moniotring template.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                uniqID:
                  type: string
                  minLength: 1
              required:
                - uniqID
              x-examples:
                example-1:
                  uniqID: 1463daa4-9c75-4911-8994-09cac072374a
            examples:
              example-1:
                value:
                  uniqID: 1463daa4-9c75-4911-8994-09cac072374a
      tags:
        - integrations
  '/api/v2/tenants/{tenantId}/integrations/install/PROMETHEUSMETRICS':
    summary: Install Prometheus integration
    description: |-
      Installs all the the supported cloud native foundation integrations.

      #### Supported Integrations
      - Prometheus
      - Kubernetes
      - OKD
      - K3S

      #### Example URLs
      - https://{api-url}/api/v2/tenants/{clientId}/integrations/install/KUBERNETES
      - https://{api-url}/api/v2/tenants/{clientId}/integrations/install/OKD
      - https://{api-url}/api/v2/tenants/{clientId}/integrations/install/K3S
      - https://{api-url}/api/v2/tenants/{clientId}/integrations/install/PROMETHEUSMETRICS

      ##### Notes
      - Template uuid in the request payload can be obtained by search template endpoint
      - User needs to create the required template based on required parameters
    parameters:
      - schema:
          type: string
        name: tenantId
        in: path
        required: true
        description: Described the uuid of the tenant
    post:
      summary: Installs clound native integrations
      operationId: post-api-v2-tenants-tenantId-integrations-install-kubernetes
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-kubernetes:
                  value:
                    id: INTG-3dabbf8d-af66-4a4f-a8d4-d7ffeb496ba7
                    displayName: Kube-Intg
                    integration:
                      id: KUBERNETES
                      name: Kubernetes
                      multipleInstallations: true
                    deployment: onPrem
                    configFiles:
                      - id: 0
                        name: Kubernetes.yaml
                        contentURL: 'https://cloud-native.api.opsramp.net/api/v2/tenants/client_498/integrations/installed/INTG-3dabbf8d-af66-4a4f-a8d4-d7ffeb496ba7/configFile/Kubernetes'
                      - id: 0
                        name: statsDMonitoringKubernetes.yaml
                        contentURL: 'https://cloud-native.api.opsramp.net/api/v2/tenants/client_498/integrations/installed/INTG-3dabbf8d-af66-4a4f-a8d4-d7ffeb496ba7/configFile/statsDMonitoringKubernetes'
                    installedBy: opsramp_api_user
                    installedTime: '2020-09-24T05:07:28+0100'
                    containerEngineType: Docker
                    status: enabled
                example-okd:
                  value:
                    id: INTG-e11081cb-406a-4416-9d9e-f8afad28ba27
                    displayName: OKDAPI
                    integration:
                      id: OKD
                      name: Red Hat OpenShift (OKD)
                      multipleInstallations: true
                    deployment: onPrem
                    configFiles:
                      - id: 0
                        name: Kubernetes.yaml
                        contentURL: 'https://cloud-native.api.opsramp.net/api/v2/tenants/client_683/integrations/installed/INTG-e11081cb-406a-4416-9d9e-f8afad28ba27/configFile/Kubernetes'
                      - id: 0
                        name: statsDMonitoringKubernetes.yaml
                        contentURL: 'https://cloud-native.api.opsramp.net/api/v2/tenants/client_683/integrations/installed/INTG-e11081cb-406a-4416-9d9e-f8afad28ba27/configFile/statsDMonitoringKubernetes'
                    installedBy: opsramp_api_user
                    installedTime: '2020-09-25T08:33:08+0100'
                    containerEngineType: Docker
                    status: enabled
                example-k3s:
                  value:
                    id: INTG-c1b45993-1f23-4801-af47-d721cec963db
                    displayName: K3SAPI
                    integration:
                      id: K3S
                      name: K3S
                      multipleInstallations: true
                    deployment: onPrem
                    configFiles:
                      - id: 0
                        name: Kubernetes.yaml
                        contentURL: 'https://cloud-native.api.opsramp.net/api/v2/tenants/client_683/integrations/installed/INTG-c1b45993-1f23-4801-af47-d721cec963db/configFile/Kubernetes'
                      - id: 0
                        name: statsDMonitoringKubernetes.yaml
                        contentURL: 'https://cloud-native.api.opsramp.net/api/v2/tenants/client_683/integrations/installed/INTG-c1b45993-1f23-4801-af47-d721cec963db/configFile/statsDMonitoringKubernetes'
                    installedBy: opsramp_api_user
                    installedTime: '2020-09-25T08:35:18+0100'
                    containerEngineType: Docker
                    status: enabled
                example-prometheus:
                  value:
                    id: INTG-8dac6ce1-aff3-4f80-8fcc-083ef26646d5
                    displayName: promAgentinstalltestAPI
                    integration:
                      id: PROMETHEUSMETRICS
                      name: Prometheus Metrics
                      multipleInstallations: true
                    configFiles:
                      - id: 0
                        name: prometheusAgent.yaml
                        contentURL: 'https://benz.api.vistara.io/api/v2/tenants/client_54/integrations/installed/INTG-8dac6ce1-aff3-4f80-8fcc-083ef26646d5/configFile/prometheusAgent'
                      - id: 0
                        name: prometheusRemoteWrite.yaml
                        contentURL: 'https://benz.api.vistara.io/api/v2/tenants/client_54/integrations/installed/INTG-8dac6ce1-aff3-4f80-8fcc-083ef26646d5/configFile/prometheusRemoteWrite'
                      - id: 0
                        name: prometheusLabelConfig.yaml
                        contentURL: 'https://benz.api.vistara.io/api/v2/tenants/client_54/integrations/installed/INTG-3b5968b6-8f3f-475d-bdfe-35edb30730f7/configFile/prometheusLabelConfig'
                    installedBy: opsramp_api_user
                    installedTime: '2020-12-30T06:37:44+0000'
                    status: enabled
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/integrationInstall'
            examples:
              example-kubernetes:
                value:
                  displayName: Kube-Intg
                  deployment: onPrem
                  containerEngineType: Docker
              example-okd:
                value:
                  displayName: OKDAPI
                  deployment: onPrem
                  containerEngineType: Docker
              example-k3s:
                value:
                  displayName: K3SAPI
                  deployment: onPrem
                  containerEngineType: Docker
              example-prometheus:
                value:
                  displayName: PrometheusIntegrationAPI
components:
  securitySchemes:
    accessToken:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: 'https://subdomain.api.opsramp.com'
          scopes: {}
  parameters:
    tenantId:
      in: path
      name: tenantId
      schema:
        type: string
      description: Describes the client ID or msp ID of the tenant
      required: true
    installedIntgId:
      name: installedIntgId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Unique Identifier of the installed integration
    eventId:
      name: eventId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: The unique ID of an event related to  the integration
    entityType:
      name: entityType
      in: path
      required: true
      schema:
        type: string
      description: Mapped property
    discoveryProfileId:
      name: discoveryProfileId
      in: path
      required: true
      schema:
        type: string
      description: Discovery profile unique Identifier
  schemas:
    rule:
      title: rule
      type: object
      properties:
        id:
          type: integer
        filterType:
          type: string
          description: |-
            Filtered resource type.
            - AWS example: AUTO_SCALING, CLOUDFRONT, DYNAMO_DB, ANY_DEVICE, ELASTICACHE, ELASTICMAPREDUCE, KINESIS, LAMBDA, LOAD_BALANCER, MACHINE_LEARNING, RDS, REDSHIFT.
            - Azure example: EBS, WEBSITE, SQL_SERVER, SQL_DATABASE, RESOURCE_GROUP, REDIS_CACHE, DOCUMENT_DB.
            - Google example: ANY_CLOUD_RESOURCE, ANY_DEVICE, EBS, GCE_CLUSTER, SQL_SERVER, SQL_DATABASE, GCE_TOPIC, GCE_SUBSCRIPTION, GCE_ROUTER, VPN.
        key:
          type: string
          description: 'Unique attribute name to filter the resource type. Example: Name, Region Name, Zone Name, Name, Subject, Description.'
        value:
          type: string
          description: Unique information of the resource.
        operator:
          type: string
          description: 'Operating values to filter the resource type. Example: Contains, Not Contains, Equals, Not Equals, Starts with, Ends with, Regex, Is.'
          enum:
            - Contains
            - Not Contains
            - Equals
            - Not Equals
            - Starts with
            - Ends with
            - Regex
        resourceType:
          type: string
          description: ''
    policy:
      title: policy
      type: object
      description: |-
        Set of functions formed together as a policy and attached with the discovery profile.
        Rules to filter the resources to which the discovery profile is attached
      properties:
        id:
          type: integer
        uid:
          type: string
        name:
          type: string
        matchType:
          type: string
        rules:
          type: array
          items:
            $ref: '#/components/schemas/rule'
        actions:
          type: array
          items:
            $ref: '#/components/schemas/action'
        entityType:
          type: string
        executionOrder:
          type: integer
    credential:
      title: credential
      type: object
      properties:
        credentialName:
          type: string
        accountId:
          type: string
        credentialType:
          type: string
        SubscriptionId:
          type: string
          description: Azure
        AzureType:
          type: string
          description: Azure
        TenantId:
          type: string
          description: Azure
        ClientID:
          type: string
          description: Azure
        SecretKey:
          type: string
          description: Azure
        Name:
          type: string
        AWSType:
          type: string
          description: 'AWS '
        Regions:
          type: string
          description: 'AWS '
        AccountNumber:
          type: string
          description: 'AWS '
        AccessKey:
          type: string
          description: 'AWS '
        SecurityKey:
          type: string
          description: 'AWS '
        AssumeRoleARN:
          type: string
          description: 'AWS '
        ExternalId:
          type: string
          description: 'AWS '
        ManagementCertificate:
          type: string
          description: Azure
        KeystorePassword:
          type: string
          description: Azure
        ServiceAccountEmail:
          type: string
          description: Google
        ProjectId:
          type: string
          description: Google
        ServiceAccountManagementCertificate:
          type: string
          description: Google
        ManagementCertificatePassPhrase:
          type: string
          description: Google
    credential-Set:
      title: Private cloud credential set
      type: object
      description: |
        Respose payload object
      properties:
        name:
          type: string
        autoMonitorable:
          type: boolean
        id:
          type: integer
          description: VmWare
        uniqueId:
          type: string
          description: uuid
        description:
          type: string
          description: VMware details description
        port:
          type: integer
          description: Port no
        secure:
          type: boolean
    discoveryProfile:
      title: discoveryProfile
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
          description: |
            Discovery profile name.
        scanNow:
          type: boolean
        installedIntegrationId:
          type: string
        credentialSet:
          type: string
          description: |
            Credential set to be assigned to the discovery profile.
        credential:
          $ref: '#/components/schemas/credential'
        policy:
          $ref: '#/components/schemas/policy'
        schedule:
          $ref: '#/components/schemas/schedule'
      required:
        - name
    schedule:
      title: schedule
      type: object
      description: 'Define the discovery time of resources:'
      properties:
        patternType:
          type: string
          description: 'Discovery schedule pattern type. Example: HOURLY, DAILY, WEEKLY, MONTHLY, MINUTES.'
        pattern:
          type: string
          description: |
            Pattern of the schedule. Example: If pattern type is WEEKLY, then pattern is MON, WED.
        startTime:
          type: string
          description: |
            Define start time of discovery.
    action:
      title: action
      type: object
      properties:
        action:
          type: string
        items:
          type: array
          items:
            type: object
            properties:
              item:
                type: string
              parameters:
                type: object
              instances:
                type: object
    httpResponse:
      title: httpResponse
      type: object
      properties:
        status:
          type: integer
        entity:
          type: string
        metadata:
          type: object
        length:
          type: integer
        headers:
          type: object
        cookies:
          type: object
        actualEntity:
          type: string
        links:
          type: array
          items: {}
        stringHeaders:
          type: object
        statusInfo:
          type: object
          properties:
            family:
              type: string
            statusCode:
              type: integer
            reasonPhrase:
              type: string
        allowedMethods:
          type: array
          items: {}
    integration:
      title: integration
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        multipleInstallations:
          type: boolean
    logo:
      type: object
      properties:
        name:
          type: string
        file:
          type: string
          description: |
            Base64 code file of the logo.
    alertSource:
      title: alertSource
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        displayName:
          type: string
        techUid:
          type: string
      description: |
        Source of alert. Applicable only when installing category is Monitoring. Default Alert Source is taken as Custom.
    integrationInstall:
      title: integrationInstall
      type: object
      x-examples: {}
      properties:
        id:
          type: string
        displayName:
          type: string
          description: |
            Name used to identify the integration.
        ipAddress:
          type: string
          description: |
            ipAddress for the private cloud. To be only used for compute Integration.
        credentialSet:
          type: string
          description: |
            Name of credentialSets. Only used for compute Integration.
        computeCredentials:
          $ref: '#/components/schemas/credential-Set'
        logos:
          $ref: '#/components/schemas/logo'
        integration:
          $ref: '#/components/schemas/integration'
        category:
          type: string
          description: |-
            Category describes the behavior of custom integration. Applicable only for Custom Integration installation.
            Example: If monitoring is selected as category, the integration will work as monitoring integration.
          enum:
            - Custom
            - Collaboration
            - Monitoring
            - SSO
            - Automation
        installedBy:
          type: string
        installedTime:
          type: string
        status:
          type: string
        alertSource:
          $ref: '#/components/schemas/alertSource'
        direction:
          type: string
          description: |-
            Direction of the installation. Applicable only when installing category is Collaboration.
            The default direction is taken as Inbound-Outbound.
          enum:
            - Inbound
            - Outbound
            - Inbound-Outbound
        description:
          type: string
        inboundConfig:
          $ref: '#/components/schemas/inboundConfig'
        outboundConfig:
          $ref: '#/components/schemas/outboundConfig'
        emailProps:
          type: array
          items:
            $ref: '#/components/schemas/emailProp'
        emailAddress:
          type: string
        ticketType:
          type: string
          description: |
            OpsRamp supports the following ticket types:
          enum:
            - INCIDENT
            - SERVICEREQUEST
            - CHANGE
        parentIntg:
          type: object
          properties:
            id:
              type: string
        deployment:
          type: string
          enum:
            - cloud
            - onPrem
            - VM_Ubuntu
            - VM_Redhat
          example: onPrem
          default: onPrem
          description: 'Specify the k8s deployment environment where k8s cluster is onprem cluster or deployed using cloud provider. **Applicable to prometheus integration** : Optional to specify the deployment environment where the Prometheus agent will be installed.'
        containerEngineType:
          type: string
          description: 'Specify container runtime engine either  Docker, ContainerD, CRI-O'
          enum:
            - Docker
            - ContainerD
            - CRI-O
          example: Docker
          default: Docker
        configFiles:
          type: array
          description: ''
          items:
            type: object
            properties:
              id:
                type: integer
              name:
                type: string
              contentURL:
                type: string
    inboundConfig:
      title: inboundConfig
      type: object
      properties:
        dropAlerts:
          type: boolean
          description: |
            Configure to drop alerts from UnManaged resources.
        authentication:
          $ref: '#/components/schemas/authentication'
        mapAttributes:
          type: array
          items:
            $ref: '#/components/schemas/mapAttributes'
        discoveryProfile:
          $ref: '#/components/schemas/discoveryProfile'
        entityTypes:
          type: array
          items:
            type: string
          description: |
            Type of supported service desk entities (INCIDENT,CHANGE,SERVICEREQUEST,PROBLEM) using WEBHOOK only.
        webhookUris:
          type: array
          items:
            $ref: '#/components/schemas/webhookDetails'
    authentication:
      title: authentication
      type: object
      properties:
        authType:
          type: string
          enum:
            - WEBHOOK
            - OAUTH2
            - ALL
          description: |
            Type of authentication.
        role:
          type: object
          description: |
            Role of the user: Mandatory only when installing category is selected as Custom. Default user role is used depending on other installing categories.
          properties:
            uniqueId:
              type: string
              description: |
                Unique ID of the role. For information on unique ID of the role, see Search Roles API.
        apiKeyPairs:
          type: array
          items:
            type: object
            properties:
              key:
                type: string
              secret:
                type: string
                description: The secret is available only during installation time.This is shown onetime as a security measure.
        token:
          type: string
    mapAttributes:
      title: mapAttributes
      type: object
      properties:
        name:
          type: string
          description: |
            OpsRamp attribute name.
        tenantAttrName:
          type: string
          description: |
            Third-party attribute name.
        entityType:
          type: string
          description: |
            OpsRamp entity type.
          enum:
            - ALERT
            - PROBLEM
            - INCIDENT
            - CHANGE
            - SERVICEREQUEST
            - TASK
        tenantEntityType:
          type: string
          description: |
            Third-party entity type.
        attrValues:
          type: array
          description: |
            Mapping attribute values:
          items:
            type: object
            properties:
              attrValue:
                type: string
                description: |
                  OpsRamp mapping attribute value
              tenantAttrValue:
                type: string
                description: |
                  Third-party mapping attribute value
        mode:
          type: string
    webhookDetails:
      title: webhook-based-service-Desk-entities
      type: object
      properties:
        webhookEntityType:
          type: string
          description: |
            OpsRamp service desk entity.
        url:
          type: string
          description: |
            OpsRamp enityType webHook uri.
    notifier:
      title: notifier
      type: object
      description: The fields are required unless specific to an `authType`.
      properties:
        type:
          type: string
          description: |
            Notification type.
          enum:
            - REST_API
            - SOAP_API
        authType:
          type: string
          description: |
            Authentication type.
          enum:
            - NONE
            - OAUTH2
            - JWT
            - BASIC
        grantType:
          type: string
          description: |
            Grant type for notification.
          enum:
            - CLIENT_CREDENTIALS
            - PASSWORD
            - REFRESH_TOKEN
        userName:
          type: string
          description: |
            Username: Mandatory when authType is OAUTH2 and grantType is PASSWORD/REFRESH_TOKEN.
        password:
          type: string
          description: |
            Password: Mandatory when authType is OAUTH2 and grantType is PASSWORD/REFRESH_TOKEN.
        apiKey:
          type: string
          description: |
            API Key: Mandatory if authType is OAUTH2.
        apiSecret:
          type: string
          description: |
            API Secret: Mandatory if authType is OAUTH2.
        accessTokenURL:
          type: string
          description: |
            Access Token URL: Mandatory if authType is OAUTH2.
        tokenPayload:
          type: object
          description: (JWT only) Payload for the token.
        tokenURL:
          type: string
          description: |
            (JWT only) Access token URI.
        tokenHeaders:
          type: array
          description: |
            (JWT only) Headers to request the token.
          items:
            type: object
            properties:
              key:
                type: string
              value:
                type: string
        tokensPath:
          type: array
          description: |
            (JWT only) Token path in the response of the authentication REST call.
          items:
            type: object
            properties:
              key:
                type: string
              value:
                type: string
        resourceAuthHeaders:
          description: |
            (JWT only) Authorization header for resource calls.
          type: array
          items:
            type: object
            properties:
              key:
                type: string
              value:
                type: string
        baseURI:
          type: string
    outboundConfig:
      title: outboundConfig
      type: object
      properties:
        mapAttributes:
          type: array
          items:
            $ref: '#/components/schemas/mapAttributes'
        baseNotifier:
          $ref: '#/components/schemas/notifier'
    integrationEvent:
      title: integrationEvent
      type: object
      properties:
        id:
          type: string
        name:
          type: string
          description: |
            Name of the Integration event.
        entity:
          type: string
          description: |-
            Entity on which an action is performed. Supported entities include:
            Service Desk
            INCIDENT
            SERVICEREQUEST
            CHANGE
            PROBLEM
            TASK
            Resource
            Alert
            ALERT (used only when eventType is selected as NONE)
        eventType:
          type: string
          description: |-
            Type of action performed on the entity. Supported values include:
            NONE (Used to invoke external integration through process workflow), CREATE, UPDATE, DELETE
          enum:
            - NONE
            - CREATE
            - UPDATE
            - DELETE
        notifier:
          $ref: '#/components/schemas/notifier'
        endPointURI:
          type: string
        headers:
          type: array
          items:
            type: object
            properties:
              key:
                type: string
              value:
                type: string
        thirdPartyEventType:
          type: string
          description: 'Type of action performed on the entity.Supported Values: POST, PUT, GET, DELETE, and PATCH'
          enum:
            - POST
            - PUT
            - GET
            - DELETE
            - PATCH
        payload:
          type: string
          description: |-
            Third-party integration event payload. Provide the third-party payload with OpsRamp placeholders to integrate the event between OpsRamp and third-party:
            - To get OpsRamp tokens, use refer to the Get Integration Event Placeholders API.
            - Convert the payload to base 64 and provide the file in the field file in the below sample request.
        filterCriteria:
          $ref: '#/components/schemas/filterCritera'
        useBaseNotifier:
          type: boolean
          description: |-
            Notification details to trigger events defined. To configure integration base notifier:
            - Provide useBaseNotifier: true to assign the notifier details to the event.
            - Provide useBaseNotifier: false to assign different notifier details
        responseHeaders:
          type: array
          items:
            type: object
            properties:
              key:
                type: string
              value:
                type: string
        depEvent:
          type: object
          properties:
            headers:
              type: array
              items:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    type: string
            payload:
              type: string
            depEndPointURI:
              type: string
            responseHeaders:
              type: array
              items:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    type: string
    filterCritera:
      title: filterCritera
      type: object
      description: Filter entities on which the event is added to the rules
      properties:
        matchType:
          type: string
          enum:
            - ANY
            - ALL
          description: Match All or Any of the rules.
        rules:
          type: array
          description: Rules to filter the entities
          items:
            $ref: '#/components/schemas/rule'
        id:
          type: integer
        name:
          type: string
        actions:
          type: array
          items:
            $ref: '#/components/schemas/action'
    emailCondition:
      title: emailCondition
      type: object
      description: Conditions to filter the values from the email data
      properties:
        contentSource:
          type: string
          description: Source from which the values should be considered.
          enum:
            - EMAIL_SUBJECT
            - EMAIL_CONTENT
            - DEFAULT_VALUE
        operator:
          type: string
          description: Unique keys required to filter the values from the content source.
          enum:
            - BETWEEN
            - BEFORE
            - AFTER
            - MATCHES
        startValue:
          type: string
          description: |
            Initial value.
        endValue:
          type: string
          description: |-
            End value.
            Start value and End value are filter properties. These properties are used to filter a certain value between the start value and end value.
        regexStr:
          type: string
          description: |-
            Regex string.
            Provide a regex string of the value that considered from the content source.
    emailProp:
      title: emailProp
      type: object
      properties:
        name:
          type: string
          description: |
            Name of parsing conditions set.
        identifier:
          type: string
          description: |
            Unique value of a set.Email data identifies the set with this identifier and parses with the respective parsing conditions.
        identifierSource:
          type: string
          description: |-
            Source for considering the unique value.
            Supported Values: EMAIL_SUBJECT, EMAIL_CONTENT, DEFAULT_VALUE.
          enum:
            - EMAIL_SUBJECT
            - EMAIL_CONTENT
            - DEFAULT_VALUE
        properties:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: |
                  Property name. Example: Alert State
              defaultValue:
                type: string
                description: Default Value is considered if any of the properties do not match with the respective configured values.
              condition:
                $ref: '#/components/schemas/emailCondition'
              propertyMappings:
                type: object
                description: Map third-party attributes with OpsRamp attributes
                properties:
                  attrValues:
                    type: array
                    items:
                      type: object
                      properties:
                        attrValue:
                          type: string
                          description: OpsRamp attribute values
                        thirdPartyAttrValue:
                          type: string
                          description: Third-party attribute values
    ssoAuth:
      title: ssoAuth
      type: object
      properties:
        type:
          type: string
          description: Type of authentication.
        issueURL:
          type: string
          description: URL of the SSO.
        redirectionUrl:
          type: string
          description: Redirection URL.
        logoutUrl:
          type: string
          description: URL displayed when user logouts.
        certificate:
          type: string
          description: Certificate issued by the SSO system.
    ssoIntg:
      title: ssoIntg
      type: object
      properties:
        displayName:
          type: string
          description: Display name of SSO.
        category:
          type: string
          description: SSO as Category.
        installedBy:
          type: string
          description: SSO installed by.
        installedTime:
          type: string
          description: SSO installed time.
        status:
          type: string
          description: Status of the Integration.
    re-tryEvent:
      description: ''
      type: object
      x-examples: {}
      title: ''
      properties:
        eventList:
          type: array
          items:
            type: string
        timeRange:
          type: object
          properties:
            startTime:
              type: string
              minLength: 1
            endTime:
              type: string
              minLength: 1
        intgMode:
          type: string
          minLength: 1
